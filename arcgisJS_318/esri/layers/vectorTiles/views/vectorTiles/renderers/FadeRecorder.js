// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.18/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/views/vectorTiles/renderers/FadeRecorder",["require","exports","../../../core/now"],function(f,g,h){(function(){return function(c,b){this.level=c;this.now=b}})();f=function(){return function(c,b,e,a){this.fadeSpeed=c;this.minfadeLevel=b;this.maxfadeLevel=e;this.fadeChange=a}}();g.FadeProperties=f;f=function(){function c(b){void 0===b&&(b=300);this._levelSnapshots=[];this._duration=b}c.prototype.recordLevel=function(b){var e=h(),a=this._levelSnapshots;0===a.length&&
(a.push({level:b,now:0}),a.push({level:b,now:0}));(2===a.length||a[0].level!==b)&&a.push({level:b,now:e})};c.prototype.needsRedraw=function(){if(0===this._levelSnapshots.length)return!1;for(var b=this._duration,e=this._levelSnapshots,a=e.length,c=e[a-1],d=-1;a>d+1&&e[d+1].now+b<c.now;)d++;for(0>d&&(d=0);d<a;d++)if(e[d].level!==c.level)return!0;return!1};c.prototype.getFadeValues=function(){for(var b=this._duration,e=h(),a=this._levelSnapshots;3<a.length&&a[1].now+b<e;)a.shift();a[1].now+b<e&&(a[0].level=
a[1].level);var c=a[0].level,d=a[a.length-1],f=d.level,g=Math.min(c,f),c=Math.max(c,f),a=(d.level-a[1].level)/((d.now-a[1].now)/b);return{fadeSpeed:a,minfadeLevel:g,maxfadeLevel:c,fadeChange:(e-d.now)/b*a}};return c}();g.FadeRecorder=f});