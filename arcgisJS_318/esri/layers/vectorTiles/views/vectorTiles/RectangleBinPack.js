// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.18/esri/copyright.txt for details.
//>>built
define("esri/layers/vectorTiles/views/vectorTiles/RectangleBinPack",["require","exports","./Rect"],function(k,l,e){return function(){function h(a,d){this._height=this._width=0;this._free=[];this._width=a;this._height=d;this._free.push(new e(0,0,a,d))}h.prototype.allocate=function(a,d){for(var b=null,c=-1,g=0;g<this._free.length;++g){var f=this._free[g];if(a<=f.width&&d<=f.height&&(null===b||f.y<=b.y&&f.x<=b.x))b=f,c=g}if(null===b)return new e;this._free.splice(c,1);b.width<b.height?(b.width>a&&this._free.push(new e(b.x+
a,b.y,b.width-a,d)),b.height>d&&this._free.push(new e(b.x,b.y+d,b.width,b.height-d))):(b.width>a&&this._free.push(new e(b.x+a,b.y,b.width-a,b.height)),b.height>d&&this._free.push(new e(b.x,b.y+d,a,b.height-d)));return new e(b.x,b.y,a,d)};h.prototype.release=function(a){for(var d=this._free.length,b=0;b<d;++b){var c=this._free[b];if(c.y===a.y&&c.height===a.height&&c.x+c.width===a.x)c.width+=a.width;else if(c.x===a.x&&c.width===a.width&&c.y+c.height===a.y)c.height+=a.height;else if(a.y===c.y&&a.height===
c.height&&a.x+a.width===c.x)c.x=a.x,c.width+=a.width;else if(a.x===c.x&&a.width===c.width&&a.y+a.height===c.y)c.y=a.y,c.height+=a.height;else continue;this._free.splice(b,1);this.release(a)}this._free.push(a)};return h}()});