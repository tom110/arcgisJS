// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.14/esri/copyright.txt for details.
//>>built
require({cache:{"dijit/popup":function(){define("dojo/_base/array dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on ./place ./BackgroundIframe ./Viewport ./main".split(" "),function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s,b){function q(){this._popupWrapper&&(h.destroy(this._popupWrapper),delete this._popupWrapper)}g=g(null,{_stack:[],_beginZIndex:1E3,_idGen:1,_repositionAll:function(){if(this._firstAroundNode){var b=
this._firstAroundPosition,a=m.position(this._firstAroundNode,!0),d=a.x-b.x,b=a.y-b.y;if(d||b){this._firstAroundPosition=a;for(a=0;a<this._stack.length;a++){var q=this._stack[a].wrapper.style;q.top=parseFloat(q.top)+b+"px";"auto"==q.right?q.left=parseFloat(q.left)+d+"px":q.right=parseFloat(q.right)-d+"px"}}this._aroundMoveListener=setTimeout(c.hitch(this,"_repositionAll"),d||b?10:50)}},_createWrapper:function(b){var a=b._popupWrapper,c=b.domNode;a||(a=h.create("div",{"class":"dijitPopup",style:{display:"none"},
role:"region","aria-label":b["aria-label"]||b.label||b.name||b.id},b.ownerDocumentBody),a.appendChild(c),c=c.style,c.display="",c.visibility="",c.position="",c.top="0px",b._popupWrapper=a,k.after(b,"destroy",q,!0),"ontouchend"in document&&z(a,"touchend",function(b){/^(input|button|textarea)$/i.test(b.target.tagName)||b.preventDefault()}));return a},moveOffScreen:function(b){var a=this._createWrapper(b);b=m.isBodyLtr(b.ownerDocument);var c={visibility:"hidden",top:"-9999px",display:""};c[b?"left":
"right"]="-9999px";c[b?"right":"left"]="auto";e.set(a,c);return a},hide:function(b){var a=this._createWrapper(b);e.set(a,{display:"none",height:"auto",overflow:"visible",border:""});b=b.domNode;"_originalStyle"in b&&(b.style.cssText=b._originalStyle)},getTopPopup:function(){for(var b=this._stack,a=b.length-1;0<a&&b[a].parent===b[a-1].widget;a--);return b[a]},open:function(b){for(var q=this._stack,t=b.popup,v=t.domNode,u=b.orient||["below","below-alt","above","above-alt"],p=b.parent?b.parent.isLeftToRight():
m.isBodyLtr(t.ownerDocument),y=b.around,h=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++;q.length&&(!b.parent||!l.isDescendant(b.parent.domNode,q[q.length-1].widget.domNode));)this.close(q[q.length-1].widget);var G=this.moveOffScreen(t);t.startup&&!t._started&&t.startup();var g,k=m.position(v);if("maxHeight"in b&&-1!=b.maxHeight)g=b.maxHeight||Infinity;else{g=s.getEffectiveBox(this.ownerDocument);var n=y?m.position(y,!1):{y:b.y-(b.padding||0),h:2*(b.padding||0)};g=Math.floor(Math.max(n.y,
g.h-(n.y+n.h)))}k.h>g&&(k=e.getComputedStyle(v),e.set(G,{overflowY:"scroll",height:g+"px",border:k.borderLeftWidth+" "+k.borderLeftStyle+" "+k.borderLeftColor}),v._originalStyle=v.style.cssText,v.style.border="none");f.set(G,{id:h,style:{zIndex:this._beginZIndex+q.length},"class":"dijitPopup "+(t.baseClass||t["class"]||"").split(" ")[0]+"Popup",dijitPopupParent:b.parent?b.parent.id:""});0==q.length&&y&&(this._firstAroundNode=y,this._firstAroundPosition=m.position(y,!0),this._aroundMoveListener=setTimeout(c.hitch(this,
"_repositionAll"),50));a("config-bgIframe")&&!t.bgIframe&&(t.bgIframe=new x(G));h=t.orient?c.hitch(t,"orient"):null;u=y?r.around(G,y,u,p,h):r.at(G,b,"R"==u?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],b.padding,h);G.style.visibility="visible";v.style.visibility="visible";v=[];v.push(z(G,"keydown",c.hitch(this,function(a){if(a.keyCode==d.ESCAPE&&b.onCancel)a.stopPropagation(),a.preventDefault(),b.onCancel();else if(a.keyCode==d.TAB&&(a.stopPropagation(),a.preventDefault(),(a=this.getTopPopup())&&a.onCancel))a.onCancel()})));
t.onCancel&&b.onCancel&&v.push(t.on("cancel",b.onCancel));v.push(t.on(t.onExecute?"execute":"change",c.hitch(this,function(){var b=this.getTopPopup();if(b&&b.onExecute)b.onExecute()})));q.push({widget:t,wrapper:G,parent:b.parent,onExecute:b.onExecute,onCancel:b.onCancel,onClose:b.onClose,handlers:v});if(t.onOpen)t.onOpen(u);return u},close:function(b){for(var a=this._stack;b&&n.some(a,function(a){return a.widget==b})||!b&&a.length;){var c=a.pop(),q=c.widget,d=c.onClose;q.bgIframe&&(q.bgIframe.destroy(),
delete q.bgIframe);if(q.onClose)q.onClose();for(var p;p=c.handlers.pop();)p.remove();q&&q.domNode&&this.hide(q);d&&d()}0==a.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}});return b.popup=new g})},"esri/dijit/_EventedWidget":function(){define("dojo/_base/declare dojo/_base/lang dojo/aspect dojo/on ../Evented dijit/_WidgetBase".split(" "),function(n,k,g,l,f,h){return n([h,f],{_onMap:function(f){var e=
this.constructor._onMap,a;if(!e||!e.FINAL)delete this.constructor._onMap,e=this.registerConnectEvents(),e.FINAL=!0;f=f.toLowerCase();e[f]?a=this[e[f].method]:(f=this._onCamelCase(f),this[f]&&(a=f));return a},on:function(f,e){var a=this._onMap(f),d=f.replace(/\-/g,""),c="on"+d in this.domNode;return a||!c?this.inherited(arguments):this.own(l(this.domNode,d,e))[0]},emit:function(f,e,a){var d,c,g,r=f.toLowerCase(),h=this.constructor._onMap||this.registerConnectEvents();c=this[this._onMap(r)];e=e||{};
e.target||(e.target=this);c&&(h&&h[r])&&(this._onObj2Arr(function(){d=Array.prototype.slice.call(arguments)},h[r].argKeys)(e),g=k.mixin({},arguments),g[2]=d,g[0]=h[r].name.replace(/^on/,""));return this.inherited(g||arguments)}})})},"dijit/form/DropDownButton":function(){define("dojo/_base/declare dojo/_base/lang dojo/query ../registry ../popup ./Button ../_Container ../_HasDropDown dojo/text!./templates/DropDownButton.html ../a11yclick".split(" "),function(n,k,g,l,f,h,m,e,a){return n("dijit.form.DropDownButton",
[h,m,e],{baseClass:"dijitDropDownButton",templateString:a,_fillContent:function(){if(this.srcNodeRef){var a=g("*",this.srcNodeRef);this.inherited(arguments,[a[0]]);this.dropDownContainer=this.srcNodeRef}},startup:function(){if(!this._started){if(!this.dropDown&&this.dropDownContainer){var a=g("[widgetId]",this.dropDownContainer)[0];a&&(this.dropDown=l.byNode(a));delete this.dropDownContainer}this.dropDown&&f.hide(this.dropDown);this.inherited(arguments)}},isLoaded:function(){var a=this.dropDown;return!!a&&
(!a.href||a.isLoaded)},loadDropDown:function(a){var c=this.dropDown,e=c.on("load",k.hitch(this,function(){e.remove();a()}));c.refresh()},isFocusable:function(){return this.inherited(arguments)&&!this._mouseDown}})})},"dijit/a11y":function(){define("dojo/_base/array dojo/dom dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/sniff ./main".split(" "),function(n,k,g,l,f,h,m){var e={_isElementShown:function(a){var d=l.get(a);return"hidden"!=d.visibility&&"collapsed"!=d.visibility&&"none"!=d.display&&"hidden"!=
g.get(a,"type")},hasDefaultTabStop:function(a){switch(a.nodeName.toLowerCase()){case "a":return g.has(a,"href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":var d;try{var c=a.contentDocument;if("designMode"in c&&"on"==c.designMode)return!0;d=c.body}catch(e){try{d=a.contentWindow.document.body}catch(r){return!1}}return d&&("true"==d.contentEditable||d.firstChild&&"true"==d.firstChild.contentEditable);default:return"true"==a.contentEditable}},
effectiveTabIndex:function(a){return g.get(a,"disabled")?void 0:g.has(a,"tabIndex")?+g.get(a,"tabIndex"):e.hasDefaultTabStop(a)?0:void 0},isTabNavigable:function(a){return 0<=e.effectiveTabIndex(a)},isFocusable:function(a){return-1<=e.effectiveTabIndex(a)},_getTabNavigable:function(a){function d(b){return b&&"input"==b.tagName.toLowerCase()&&b.type&&"radio"==b.type.toLowerCase()&&b.name&&b.name.toLowerCase()}var c,f,r,l,k,b,q={},A=e._isElementShown,w=e.effectiveTabIndex,t=function(a){for(a=a.firstChild;a;a=
a.nextSibling)if(!(1!=a.nodeType||9>=h("ie")&&"HTML"!==a.scopeName||!A(a))){var e=w(a);if(0<=e){if(0==e)c||(c=a),f=a;else if(0<e){if(!r||e<l)l=e,r=a;if(!k||e>=b)b=e,k=a}e=d(a);g.get(a,"checked")&&e&&(q[e]=a)}"SELECT"!=a.nodeName.toUpperCase()&&t(a)}};A(a)&&t(a);return{first:q[d(c)]||c,last:q[d(f)]||f,lowest:q[d(r)]||r,highest:q[d(k)]||k}},getFirstInTabbingOrder:function(a,d){var c=e._getTabNavigable(k.byId(a,d));return c.lowest?c.lowest:c.first},getLastInTabbingOrder:function(a,d){var c=e._getTabNavigable(k.byId(a,
d));return c.last?c.last:c.highest}};f.mixin(m,e);return e})},"dijit/layout/ContentPane":function(){define("dojo/_base/kernel dojo/_base/lang ../_Widget ../_Container ./_ContentPaneResizeMixin dojo/string dojo/html dojo/i18n!../nls/loading dojo/_base/array dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-construct dojo/_base/xhr dojo/i18n dojo/when".split(" "),function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s,b,q){return d("dijit.layout.ContentPane",[g,l,f],{href:"",content:"",extractContent:!1,
parseOnLoad:!0,parserScope:n._scopeName,preventCache:!1,preload:!1,refreshOnShow:!1,loadingMessage:"\x3cspan class\x3d'dijitContentPaneLoading'\x3e\x3cspan class\x3d'dijitInline dijitIconLoading'\x3e\x3c/span\x3e${loadingState}\x3c/span\x3e",errorMessage:"\x3cspan class\x3d'dijitContentPaneError'\x3e\x3cspan class\x3d'dijitInline dijitIconError'\x3e\x3c/span\x3e${errorState}\x3c/span\x3e",isLoaded:!1,baseClass:"dijitContentPane",ioArgs:{},onLoadDeferred:null,_setTitleAttr:null,stopParser:!0,template:!1,
markupFactory:function(b,a,c){var q=new c(b,a);return!q.href&&q._contentSetter&&q._contentSetter.parseDeferred&&!q._contentSetter.parseDeferred.isFulfilled()?q._contentSetter.parseDeferred.then(function(){return q}):q},create:function(b,a){if((!b||!b.template)&&a&&!("href"in b)&&!("content"in b)){a=z.byId(a);for(var c=a.ownerDocument.createDocumentFragment();a.firstChild;)c.appendChild(a.firstChild);b=k.delegate(b,{content:c})}this.inherited(arguments,[b,a])},postMixInProperties:function(){this.inherited(arguments);
var a=b.getLocalization("dijit","loading",this.lang);this.loadingMessage=h.substitute(this.loadingMessage,a);this.errorMessage=h.substitute(this.errorMessage,a)},buildRendering:function(){this.inherited(arguments);this.containerNode||(this.containerNode=this.domNode);this.domNode.removeAttribute("title")},startup:function(){this.inherited(arguments);this._contentSetter&&a.forEach(this._contentSetter.parseResults,function(b){!b._started&&(!b._destroyed&&k.isFunction(b.startup))&&(b.startup(),b._started=
!0)},this)},_startChildren:function(){a.forEach(this.getChildren(),function(b){!b._started&&(!b._destroyed&&k.isFunction(b.startup))&&(b.startup(),b._started=!0)});this._contentSetter&&a.forEach(this._contentSetter.parseResults,function(b){!b._started&&(!b._destroyed&&k.isFunction(b.startup))&&(b.startup(),b._started=!0)},this)},setHref:function(b){n.deprecated("dijit.layout.ContentPane.setHref() is deprecated. Use set('href', ...) instead.","","2.0");return this.set("href",b)},_setHrefAttr:function(b){this.cancel();
this.onLoadDeferred=new c(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._set("href",b);this.preload||this._created&&this._isShown()?this._load():this._hrefChanged=!0;return this.onLoadDeferred},setContent:function(b){n.deprecated("dijit.layout.ContentPane.setContent() is deprecated.  Use set('content', ...) instead.","","2.0");this.set("content",b)},_setContentAttr:function(b){this._set("href","");this.cancel();this.onLoadDeferred=new c(k.hitch(this,"cancel"));this._created&&
this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._setContent(b||"");this._isDownloaded=!1;return this.onLoadDeferred},_getContentAttr:function(){return this.containerNode.innerHTML},cancel:function(){this._xhrDfd&&-1==this._xhrDfd.fired&&this._xhrDfd.cancel();delete this._xhrDfd;this.onLoadDeferred=null},destroy:function(){this.cancel();this.inherited(arguments)},destroyRecursive:function(b){this._beingDestroyed||this.inherited(arguments)},_onShow:function(){this.inherited(arguments);if(this.href&&
!this._xhrDfd&&(!this.isLoaded||this._hrefChanged||this.refreshOnShow))return this.refresh()},refresh:function(){this.cancel();this.onLoadDeferred=new c(k.hitch(this,"cancel"));this.onLoadDeferred.then(k.hitch(this,"onLoad"));this._load();return this.onLoadDeferred},_load:function(){this._setContent(this.onDownloadStart(),!0);var b=this,a={preventCache:this.preventCache||this.refreshOnShow,url:this.href,handleAs:"text"};k.isObject(this.ioArgs)&&k.mixin(a,this.ioArgs);var c=this._xhrDfd=(this.ioMethod||
s.get)(a),q;c.then(function(a){q=a;try{return b._isDownloaded=!0,b._setContent(a,!1)}catch(c){b._onError("Content",c)}},function(a){c.canceled||b._onError("Download",a);delete b._xhrDfd;return a}).then(function(){b.onDownloadEnd();delete b._xhrDfd;return q});delete this._hrefChanged},_onLoadHandler:function(b){this._set("isLoaded",!0);try{this.onLoadDeferred.resolve(b)}catch(a){console.error("Error "+this.widgetId+" running custom onLoad code: "+a.message)}},_onUnloadHandler:function(){this._set("isLoaded",
!1);try{this.onUnload()}catch(b){console.error("Error "+this.widgetId+" running custom onUnload code: "+b.message)}},destroyDescendants:function(b){this.isLoaded&&this._onUnloadHandler();var c=this._contentSetter;a.forEach(this.getChildren(),function(a){a.destroyRecursive?a.destroyRecursive(b):a.destroy&&a.destroy(b);a._destroyed=!0});c&&(a.forEach(c.parseResults,function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive(b):a.destroy&&a.destroy(b),a._destroyed=!0)}),delete c.parseResults);b||
x.empty(this.containerNode);delete this._singleChild},_setContent:function(b,a){this.destroyDescendants();var c=this._contentSetter;c&&c instanceof m._ContentSetter||(c=this._contentSetter=new m._ContentSetter({node:this.containerNode,_onError:k.hitch(this,this._onError),onContentError:k.hitch(this,function(b){b=this.onContentError(b);try{this.containerNode.innerHTML=b}catch(a){console.error("Fatal "+this.id+" could not change content due to "+a.message,a)}})}));var d=k.mixin({cleanContent:this.cleanContent,
extractContent:this.extractContent,parseContent:!b.domNode&&this.parseOnLoad,parserScope:this.parserScope,startup:!1,dir:this.dir,lang:this.lang,textDir:this.textDir},this._contentSetterParams||{}),d=c.set(k.isObject(b)&&b.domNode?b.domNode:b,d),e=this;return q(d&&d.then?d:c.parseDeferred,function(){delete e._contentSetterParams;a||(e._started&&(e._startChildren(),e._scheduleLayout()),e._onLoadHandler(b))})},_onError:function(b,a,c){this.onLoadDeferred.reject(a);b=this["on"+b+"Error"].call(this,a);
c?console.error(c,a):b&&this._setContent(b,!0)},onLoad:function(){},onUnload:function(){},onDownloadStart:function(){return this.loadingMessage},onContentError:function(){},onDownloadError:function(){return this.errorMessage},onDownloadEnd:function(){}})})},"dijit/Viewport":function(){define(["dojo/Evented","dojo/on","dojo/domReady","dojo/sniff","dojo/window"],function(n,k,g,l,f){var h=new n,m;g(function(){var e=f.getBox();h._rlh=k(window,"resize",function(){var a=f.getBox();e.h==a.h&&e.w==a.w||(e=
a,h.emit("resize"))});if(8==l("ie")){var a=screen.deviceXDPI;setInterval(function(){screen.deviceXDPI!=a&&(a=screen.deviceXDPI,h.emit("resize"))},500)}l("ios")&&(k(document,"focusin",function(a){m=a.target}),k(document,"focusout",function(a){m=null}))});h.getEffectiveBox=function(e){e=f.getBox(e);var a=m&&m.tagName&&m.tagName.toLowerCase();if(l("ios")&&m&&!m.readOnly&&("textarea"==a||"input"==a&&/^(color|email|number|password|search|tel|text|url)$/.test(m.type)))e.h*=0==orientation||180==orientation?
0.66:0.4,a=m.getBoundingClientRect(),e.h=Math.max(e.h,a.top+a.height);return e};return h})},"dijit/Menu":function(){define("require dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-geometry dojo/dom-style dojo/keys dojo/_base/lang dojo/on dojo/sniff dojo/_base/window dojo/window ./popup ./DropDownMenu dojo/ready".split(" "),function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s,b){c("dijit-legacy-requires")&&b(0,function(){n(["dijit/MenuItem","dijit/PopupMenuItem","dijit/CheckedMenuItem","dijit/MenuSeparator"])});
return g("dijit.Menu",s,{constructor:function(){this._bindings=[]},targetNodeIds:[],selector:"",contextMenuForWindow:!1,leftClickToOpen:!1,refocus:!0,postCreate:function(){this.contextMenuForWindow?this.bindDomNode(this.ownerDocumentBody):k.forEach(this.targetNodeIds,this.bindDomNode,this);this.inherited(arguments)},_iframeContentWindow:function(b){return r.get(this._iframeContentDocument(b))||this._iframeContentDocument(b).__parent__||b.name&&document.frames[b.name]||null},_iframeContentDocument:function(b){return b.contentDocument||
b.contentWindow&&b.contentWindow.document||b.name&&document.frames[b.name]&&document.frames[b.name].document||null},bindDomNode:function(b){b=l.byId(b,this.ownerDocument);var c;if("iframe"==b.tagName.toLowerCase()){var r=b;c=this._iframeContentWindow(r);c=z.body(c.document)}else c=b==z.body(this.ownerDocument)?this.ownerDocument.documentElement:b;var t={node:b,iframe:r};f.set(b,"_dijitMenu"+this.id,this._bindings.push(t));var g=a.hitch(this,function(b){var a=this.selector,c=a?function(b){return d.selector(a,
b)}:function(b){return b},q=this;return[d(b,c(this.leftClickToOpen?"click":"contextmenu"),function(b){b.stopPropagation();b.preventDefault();(new Date).getTime()<this._lastKeyDown+500||q._scheduleOpen(this,r,{x:b.pageX,y:b.pageY},b.target)}),d(b,c("keydown"),function(b){if(93==b.keyCode||b.shiftKey&&b.keyCode==e.F10||this.leftClickToOpen&&b.keyCode==e.SPACE)b.stopPropagation(),b.preventDefault(),q._scheduleOpen(this,r,null,b.target),this._lastKeyDown=(new Date).getTime()})]});t.connects=c?g(c):[];
r&&(t.onloadHandler=a.hitch(this,function(){var b=this._iframeContentWindow(r),b=z.body(b.document);t.connects=g(b)}),r.addEventListener?r.addEventListener("load",t.onloadHandler,!1):r.attachEvent("onload",t.onloadHandler))},unBindDomNode:function(b){var a;try{a=l.byId(b,this.ownerDocument)}catch(c){return}b="_dijitMenu"+this.id;if(a&&f.has(a,b)){for(var d=f.get(a,b)-1,r=this._bindings[d],e;e=r.connects.pop();)e.remove();(e=r.iframe)&&(e.removeEventListener?e.removeEventListener("load",r.onloadHandler,
!1):e.detachEvent("onload",r.onloadHandler));f.remove(a,b);delete this._bindings[d]}},_scheduleOpen:function(b,a,c,d){this._openTimer||(this._openTimer=this.defer(function(){delete this._openTimer;this._openMyself({target:d,delegatedTarget:b,iframe:a,coords:c})},1))},_openMyself:function(b){function a(){G.refocus&&k&&k.focus();x.close(G)}var d=b.target,r=b.iframe,e=b.coords,f=!e;this.currentTarget=b.delegatedTarget;if(e){if(r){b=h.position(r,!0);var d=this._iframeContentWindow(r),d=h.docScroll(d.document),
p=m.getComputedStyle(r),y=m.toPixelValue,g=(c("ie")&&c("quirks")?0:y(r,p.paddingLeft))+(c("ie")&&c("quirks")?y(r,p.borderLeftWidth):0),r=(c("ie")&&c("quirks")?0:y(r,p.paddingTop))+(c("ie")&&c("quirks")?y(r,p.borderTopWidth):0);e.x+=b.x+g-d.x;e.y+=b.y+r-d.y}}else e=h.position(d,!0),e.x+=10,e.y+=10;var G=this,r=this._focusManager.get("prevNode");b=this._focusManager.get("curNode");var k=!b||l.isDescendant(b,this.domNode)?r:b;x.open({popup:this,x:e.x,y:e.y,onExecute:a,onCancel:a,orient:this.isLeftToRight()?
"L":"R"});this.focus();f||this.defer(function(){this._cleanUp(!0)});this._onBlur=function(){this.inherited("_onBlur",arguments);x.close(this)}},destroy:function(){k.forEach(this._bindings,function(b){b&&this.unBindDomNode(b.node)},this);this.inherited(arguments)}})})},"dojo/hccss":function(){define("require ./_base/config ./dom-class ./dom-style ./has ./domReady ./_base/window".split(" "),function(n,k,g,l,f,h,m){f.add("highcontrast",function(){var e=m.doc.createElement("div");e.style.cssText='border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;background-image: url("'+
(k.blankGif||n.toUrl("./resources/blank.gif"))+'");';m.body().appendChild(e);var a=l.getComputedStyle(e),d=a.backgroundImage,a=a.borderTopColor==a.borderRightColor||d&&("none"==d||"url(invalid-url:)"==d);8>=f("ie")?e.outerHTML="":m.body().removeChild(e);return a});h(function(){f("highcontrast")&&g.add(m.body(),"dj_a11y")});return f})},"dijit/layout/utils":function(){define(["dojo/_base/array","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojo/_base/lang"],function(n,k,g,l,f){function h(e,
a){var d=e.resize?e.resize(a):g.setMarginBox(e.domNode,a);d?f.mixin(e,d):(f.mixin(e,g.getMarginBox(e.domNode)),f.mixin(e,a))}var m={marginBox2contentBox:function(e,a){var d=l.getComputedStyle(e),c=g.getMarginExtents(e,d),f=g.getPadBorderExtents(e,d);return{l:l.toPixelValue(e,d.paddingLeft),t:l.toPixelValue(e,d.paddingTop),w:a.w-(c.w+f.w),h:a.h-(c.h+f.h)}},layoutChildren:function(e,a,d,c,g){a=f.mixin({},a);k.add(e,"dijitLayoutContainer");d=n.filter(d,function(a){return"center"!=a.region&&"client"!=
a.layoutAlign}).concat(n.filter(d,function(a){return"center"==a.region||"client"==a.layoutAlign}));n.forEach(d,function(d){var e=d.domNode,f=d.region||d.layoutAlign;if(!f)throw Error("No region setting for "+d.id);var b=e.style;b.left=a.l+"px";b.top=a.t+"px";b.position="absolute";k.add(e,"dijitAlign"+(f.substring(0,1).toUpperCase()+f.substring(1)));e={};c&&c==d.id&&(e["top"==d.region||"bottom"==d.region?"h":"w"]=g);"leading"==f&&(f=d.isLeftToRight()?"left":"right");"trailing"==f&&(f=d.isLeftToRight()?
"right":"left");"top"==f||"bottom"==f?(e.w=a.w,h(d,e),a.h-=d.h,"top"==f?a.t+=d.h:b.top=a.t+a.h+"px"):"left"==f||"right"==f?(e.h=a.h,h(d,e),a.w-=d.w,"left"==f?a.l+=d.w:b.left=a.l+a.w+"px"):("client"==f||"center"==f)&&h(d,a)})}};f.setObject("dijit.layout.utils",m);return m})},"dijit/_WidgetBase":function(){define("require dojo/_base/array dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/dom-geometry dojo/dom-style dojo/has dojo/_base/kernel dojo/_base/lang dojo/on dojo/ready dojo/Stateful dojo/topic dojo/_base/window ./Destroyable dojo/has!dojo-bidi?./_BidiMixin ./registry".split(" "),
function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s,b,q,A,w,t,v,u,p){function y(b){return function(a){e[a?"set":"remove"](this.domNode,b,a);this._set(b,a)}}r.add("dijit-legacy-requires",!x.isAsync);r.add("dojo-bidi",!1);r("dijit-legacy-requires")&&q(0,function(){n(["dijit/_base/manager"])});var F={};l=h("dijit._WidgetBase",[A,v],{id:"",_setIdAttr:"domNode",lang:"",_setLangAttr:y("lang"),dir:"",_setDirAttr:y("dir"),"class":"",_setClassAttr:{node:"domNode",type:"class"},_setTypeAttr:null,style:"",title:"",tooltip:"",
baseClass:"",srcNodeRef:null,domNode:null,containerNode:null,ownerDocument:null,_setOwnerDocumentAttr:function(b){this._set("ownerDocument",b)},attributeMap:{},_blankGif:l.blankGif||n.toUrl("dojo/resources/blank.gif"),_introspect:function(){var b=this.constructor;if(!b._setterAttrs){var a=b.prototype,c=b._setterAttrs=[],b=b._onMap={},d;for(d in a.attributeMap)c.push(d);for(d in a)/^on/.test(d)&&(b[d.substring(2).toLowerCase()]=d),/^_set[A-Z](.*)Attr$/.test(d)&&(d=d.charAt(4).toLowerCase()+d.substr(5,
d.length-9),(!a.attributeMap||!(d in a.attributeMap))&&c.push(d))}},postscript:function(b,a){this.create(b,a)},create:function(b,a){this._introspect();this.srcNodeRef=m.byId(a);this._connects=[];this._supportingWidgets=[];this.srcNodeRef&&"string"==typeof this.srcNodeRef.id&&(this.id=this.srcNodeRef.id);b&&(this.params=b,s.mixin(this,b));this.postMixInProperties();this.id||(this.id=p.getUniqueId(this.declaredClass.replace(/\./g,"_")),this.params&&delete this.params.id);this.ownerDocument=this.ownerDocument||
(this.srcNodeRef?this.srcNodeRef.ownerDocument:document);this.ownerDocumentBody=t.body(this.ownerDocument);p.add(this);this.buildRendering();var c;if(this.domNode){this._applyAttributes();var d=this.srcNodeRef;d&&(d.parentNode&&this.domNode!==d)&&(d.parentNode.replaceChild(this.domNode,d),c=!0);this.domNode.setAttribute("widgetId",this.id)}this.postCreate();c&&delete this.srcNodeRef;this._created=!0},_applyAttributes:function(){var b={},a;for(a in this.params||{})b[a]=this._get(a);k.forEach(this.constructor._setterAttrs,
function(a){if(!(a in b)){var c=this._get(a);c&&this.set(a,c)}},this);for(a in b)this.set(a,b[a])},postMixInProperties:function(){},buildRendering:function(){this.domNode||(this.domNode=this.srcNodeRef||this.ownerDocument.createElement("div"));if(this.baseClass){var b=this.baseClass.split(" ");this.isLeftToRight()||(b=b.concat(k.map(b,function(b){return b+"Rtl"})));a.add(this.domNode,b)}},postCreate:function(){},startup:function(){this._started||(this._started=!0,k.forEach(this.getChildren(),function(b){!b._started&&
(!b._destroyed&&s.isFunction(b.startup))&&(b.startup(),b._started=!0)}))},destroyRecursive:function(b){this._beingDestroyed=!0;this.destroyDescendants(b);this.destroy(b)},destroy:function(b){function a(c){c.destroyRecursive?c.destroyRecursive(b):c.destroy&&c.destroy(b)}this._beingDestroyed=!0;this.uninitialize();k.forEach(this._connects,s.hitch(this,"disconnect"));k.forEach(this._supportingWidgets,a);this.domNode&&k.forEach(p.findWidgets(this.domNode,this.containerNode),a);this.destroyRendering(b);
p.remove(this.id);this._destroyed=!0},destroyRendering:function(b){this.bgIframe&&(this.bgIframe.destroy(b),delete this.bgIframe);this.domNode&&(b?e.remove(this.domNode,"widgetId"):d.destroy(this.domNode),delete this.domNode);this.srcNodeRef&&(b||d.destroy(this.srcNodeRef),delete this.srcNodeRef)},destroyDescendants:function(b){k.forEach(this.getChildren(),function(a){a.destroyRecursive&&a.destroyRecursive(b)})},uninitialize:function(){return!1},_setStyleAttr:function(b){var a=this.domNode;s.isObject(b)?
z.set(a,b):a.style.cssText=a.style.cssText?a.style.cssText+("; "+b):b;this._set("style",b)},_attrToDom:function(b,c,d){d=3<=arguments.length?d:this.attributeMap[b];k.forEach(s.isArray(d)?d:[d],function(d){var q=this[d.node||d||"domNode"];switch(d.type||"attribute"){case "attribute":s.isFunction(c)&&(c=s.hitch(this,c));d=d.attribute?d.attribute:/^on[A-Z][a-zA-Z]*$/.test(b)?b.toLowerCase():b;q.tagName?e.set(q,d,c):q.set(d,c);break;case "innerText":q.innerHTML="";q.appendChild(this.ownerDocument.createTextNode(c));
break;case "innerHTML":q.innerHTML=c;break;case "class":a.replace(q,c,this[b])}},this)},get:function(b){var a=this._getAttrNames(b);return this[a.g]?this[a.g]():this._get(b)},set:function(b,a){if("object"===typeof b){for(var c in b)this.set(c,b[c]);return this}c=this._getAttrNames(b);var d=this[c.s];if(s.isFunction(d))var q=d.apply(this,Array.prototype.slice.call(arguments,1));else{var d=this.focusNode&&!s.isFunction(this.focusNode)?"focusNode":"domNode",e=this[d]&&this[d].tagName,r;if(r=e)if(!(r=
F[e])){r=this[d];var f={},p;for(p in r)f[p.toLowerCase()]=!0;r=F[e]=f}p=r;c=b in this.attributeMap?this.attributeMap[b]:c.s in this?this[c.s]:p&&c.l in p&&"function"!=typeof a||/^aria-|^data-|^role$/.test(b)?d:null;null!=c&&this._attrToDom(b,a,c);this._set(b,a)}return q||this},_attrPairNames:{},_getAttrNames:function(b){var a=this._attrPairNames;if(a[b])return a[b];var c=b.replace(/^[a-z]|-[a-zA-Z]/g,function(b){return b.charAt(b.length-1).toUpperCase()});return a[b]={n:b+"Node",s:"_set"+c+"Attr",
g:"_get"+c+"Attr",l:c.toLowerCase()}},_set:function(b,a){var c=this[b];this[b]=a;if(this._created&&!(c===a||c!==c&&a!==a))this._watchCallbacks&&this._watchCallbacks(b,c,a),this.emit("attrmodified-"+b,{detail:{prevValue:c,newValue:a}})},_get:function(b){return this[b]},emit:function(a,c,d){c=c||{};void 0===c.bubbles&&(c.bubbles=!0);void 0===c.cancelable&&(c.cancelable=!0);c.detail||(c.detail={});c.detail.widget=this;var q,e=this["on"+a];e&&(q=e.apply(this,d?d:[c]));this._started&&!this._beingDestroyed&&
b.emit(this.domNode,a.toLowerCase(),c);return q},on:function(a,c){var d=this._onMap(a);return d?g.after(this,d,c,!0):this.own(b(this.domNode,a,c))[0]},_onMap:function(b){var a=this.constructor,c=a._onMap;if(!c){var c=a._onMap={},d;for(d in a.prototype)/^on/.test(d)&&(c[d.replace(/^on/,"").toLowerCase()]=d)}return c["string"==typeof b&&b.toLowerCase()]},toString:function(){return"[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]"},getChildren:function(){return this.containerNode?p.findWidgets(this.containerNode):
[]},getParent:function(){return p.getEnclosingWidget(this.domNode.parentNode)},connect:function(b,a,c){return this.own(f.connect(b,a,this,c))[0]},disconnect:function(b){b.remove()},subscribe:function(b,a){return this.own(w.subscribe(b,s.hitch(this,a)))[0]},unsubscribe:function(b){b.remove()},isLeftToRight:function(){return this.dir?"ltr"==this.dir.toLowerCase():c.isBodyLtr(this.ownerDocument)},isFocusable:function(){return this.focus&&"none"!=z.get(this.domNode,"display")},placeAt:function(b,a){var c=
!b.tagName&&p.byId(b);c&&c.addChild&&(!a||"number"===typeof a)?c.addChild(this,a):(c=c&&"domNode"in c?c.containerNode&&!/after|before|replace/.test(a||"")?c.containerNode:c.domNode:m.byId(b,this.ownerDocument),d.place(this.domNode,c,a),!this._started&&(this.getParent()||{})._started&&this.startup());return this},defer:function(b,a){var c=setTimeout(s.hitch(this,function(){c&&(c=null,this._destroyed||s.hitch(this,b)())}),a||0);return{remove:function(){c&&(clearTimeout(c),c=null);return null}}}});r("dojo-bidi")&&
l.extend(u);return l})},"dijit/_MenuBase":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/lang dojo/mouse dojo/on dojo/window ./a11yclick ./registry ./_Widget ./_CssStateMixin ./_KeyNavContainer ./_TemplatedMixin".split(" "),function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s){return k("dijit._MenuBase",[z,s,x,r],{selected:null,_setSelectedAttr:function(b){this.selected!=b&&(this.selected&&(this.selected._setSelected(!1),this._onChildDeselect(this.selected)),
b&&b._setSelected(!0),this._set("selected",b))},activated:!1,_setActivatedAttr:function(b){f.toggle(this.domNode,"dijitMenuActive",b);f.toggle(this.domNode,"dijitMenuPassive",!b);this._set("activated",b)},parentMenu:null,popupDelay:500,passivePopupDelay:Infinity,autoFocus:!1,childSelector:function(b){var a=c.byNode(b);return b.parentNode==this.containerNode&&a&&a.focus},postCreate:function(){var b=this,a="string"==typeof this.childSelector?this.childSelector:h.hitch(this,"childSelector");this.own(e(this.containerNode,
e.selector(a,m.enter),function(){b.onItemHover(c.byNode(this))}),e(this.containerNode,e.selector(a,m.leave),function(){b.onItemUnhover(c.byNode(this))}),e(this.containerNode,e.selector(a,d),function(a){b.onItemClick(c.byNode(this),a);a.stopPropagation()}),e(this.containerNode,e.selector(a,"focusin"),function(){b._onItemFocus(c.byNode(this))}));this.inherited(arguments)},onKeyboardSearch:function(b,a,c,d){this.inherited(arguments);if(b&&(-1==d||b.popup&&1==d))this.onItemClick(b,a)},_keyboardSearchCompare:function(b,
a){return b.shortcutKey?a==b.shortcutKey.toLowerCase()?-1:0:this.inherited(arguments)?1:0},onExecute:function(){},onCancel:function(){},_moveToPopup:function(b){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled)this.onItemClick(this.focusedChild,b);else(b=this._getTopMenu())&&b._isMenuBar&&b.focusNext()},_onPopupHover:function(){this.set("selected",this.currentPopupItem);this._stopPendingCloseTimer()},onItemHover:function(b){this.activated?(this.set("selected",b),b.popup&&
(!b.disabled&&!this.hover_timer)&&(this.hover_timer=this.defer(function(){this._openItemPopup(b)},this.popupDelay))):Infinity>this.passivePopupDelay&&(this.passive_hover_timer&&this.passive_hover_timer.remove(),this.passive_hover_timer=this.defer(function(){this.onItemClick(b,{type:"click"})},this.passivePopupDelay));this._hoveredChild=b;b._set("hovering",!0)},_onChildDeselect:function(b){this._stopPopupTimer();this.currentPopupItem==b&&(this._stopPendingCloseTimer(),this._pendingClose_timer=this.defer(function(){this.currentPopupItem=
this._pendingClose_timer=null;b._closePopup()},this.popupDelay))},onItemUnhover:function(b){this._hoveredChild==b&&(this._hoveredChild=null);this.passive_hover_timer&&(this.passive_hover_timer.remove(),this.passive_hover_timer=null);b._set("hovering",!1)},_stopPopupTimer:function(){this.hover_timer&&(this.hover_timer=this.hover_timer.remove())},_stopPendingCloseTimer:function(){this._pendingClose_timer&&(this._pendingClose_timer=this._pendingClose_timer.remove())},_getTopMenu:function(){for(var b=
this;b.parentMenu;b=b.parentMenu);return b},onItemClick:function(b,a){this.passive_hover_timer&&this.passive_hover_timer.remove();this.focusChild(b);if(b.disabled)return!1;if(b.popup){this.set("selected",b);this.set("activated",!0);var c=/^key/.test(a._origType||a.type)||0==a.clientX&&0==a.clientY;this._openItemPopup(b,c)}else this.onExecute(),b._onClick?b._onClick(a):b.onClick(a)},_openItemPopup:function(b,a){if(b!=this.currentPopupItem){this.currentPopupItem&&(this._stopPendingCloseTimer(),this.currentPopupItem._closePopup());
this._stopPopupTimer();var c=b.popup;c.parentMenu=this;this.own(this._mouseoverHandle=e.once(c.domNode,"mouseover",h.hitch(this,"_onPopupHover")));var d=this;b._openPopup({parent:this,orient:this._orient||["after","before"],onCancel:function(){a&&d.focusChild(b);d._cleanUp()},onExecute:h.hitch(this,"_cleanUp",!0),onClose:function(){d._mouseoverHandle&&(d._mouseoverHandle.remove(),delete d._mouseoverHandle)}},a);this.currentPopupItem=b}},onOpen:function(){this.isShowingNow=!0;this.set("activated",
!0)},onClose:function(){this.set("activated",!1);this.set("selected",null);this.isShowingNow=!1;this.parentMenu=null},_closeChild:function(){this._stopPopupTimer();this.currentPopupItem&&(this.focused&&(l.set(this.selected.focusNode,"tabIndex",this.tabIndex),this.selected.focusNode.focus()),this.currentPopupItem._closePopup(),this.currentPopupItem=null)},_onItemFocus:function(b){if(this._hoveredChild&&this._hoveredChild!=b)this.onItemUnhover(this._hoveredChild);this.set("selected",b)},_onBlur:function(){this._cleanUp(!0);
this.inherited(arguments)},_cleanUp:function(b){this._closeChild();"undefined"==typeof this.isShowingNow&&this.set("activated",!1);b&&this.set("selected",null)}})})},"dojo/touch":function(){define("./_base/kernel ./aspect ./dom ./dom-class ./_base/lang ./on ./has ./mouse ./domReady ./_base/window".split(" "),function(n,k,g,l,f,h,m,e,a,d){function c(b,a,c){return s&&c?function(b,a){return h(b,c,a)}:q?function(c,d){var e=h(c,a,function(b){d.call(this,b);L=(new Date).getTime()}),q=h(c,b,function(b){(!L||
(new Date).getTime()>L+1E3)&&d.call(this,b)});return{remove:function(){e.remove();q.remove()}}}:function(a,c){return h(a,b,c)}}function z(b){do if(void 0!==b.dojoClick)return b;while(b=b.parentNode)}function r(b,a,c){var e=z(b.target);if(w=!b.target.disabled&&e&&e.dojoClick)if(v=(t="useTarget"==w)?e:b.target,t&&b.preventDefault(),u=b.changedTouches?b.changedTouches[0].pageX-d.global.pageXOffset:b.clientX,p=b.changedTouches?b.changedTouches[0].pageY-d.global.pageYOffset:b.clientY,y=("object"==typeof w?
w.x:"number"==typeof w?w:0)||4,F=("object"==typeof w?w.y:"number"==typeof w?w:0)||4,!A){A=!0;var q=function(b){w=t?g.isDescendant(d.doc.elementFromPoint(b.changedTouches?b.changedTouches[0].pageX-d.global.pageXOffset:b.clientX,b.changedTouches?b.changedTouches[0].pageY-d.global.pageYOffset:b.clientY),v):w&&(b.changedTouches?b.changedTouches[0].target:b.target)==v&&Math.abs((b.changedTouches?b.changedTouches[0].pageX-d.global.pageXOffset:b.clientX)-u)<=y&&Math.abs((b.changedTouches?b.changedTouches[0].pageY-
d.global.pageYOffset:b.clientY)-p)<=F};d.doc.addEventListener(a,function(b){q(b);t&&b.preventDefault()},!0);d.doc.addEventListener(c,function(b){q(b);if(w){G=(new Date).getTime();var a=t?v:b.target;"LABEL"===a.tagName&&(a=g.byId(a.getAttribute("for"))||a);var c=b.changedTouches?b.changedTouches[0]:b,d=document.createEvent("MouseEvents");d._dojo_click=!0;d.initMouseEvent("click",!0,!0,b.view,b.detail,c.screenX,c.screenY,c.clientX,c.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,0,null);setTimeout(function(){h.emit(a,
"click",d);G=(new Date).getTime()},0)}},!0);b=function(b){d.doc.addEventListener(b,function(a){!a._dojo_click&&((new Date).getTime()<=G+1E3&&!("INPUT"==a.target.tagName&&l.contains(a.target,"dijitOffScreen")))&&(a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),"click"==b&&(("INPUT"!=a.target.tagName||"radio"==a.target.type||"checkbox"==a.target.type)&&"TEXTAREA"!=a.target.tagName&&"AUDIO"!=a.target.tagName&&"VIDEO"!=a.target.tagName)&&a.preventDefault())},!0)};b("click");
b("mousedown");b("mouseup")}}var x=5>m("ios"),s=m("pointer-events")||m("MSPointer"),b=function(){var b={},a;for(a in{down:1,move:1,up:1,cancel:1,over:1,out:1})b[a]=m("MSPointer")?"MSPointer"+a.charAt(0).toUpperCase()+a.slice(1):"pointer"+a;return b}(),q=m("touch-events"),A,w,t=!1,v,u,p,y,F,G,L,I;s?a(function(){d.doc.addEventListener(b.down,function(a){r(a,b.move,b.up)},!0)}):q&&a(function(){function b(a){var c=f.delegate(a,{bubbles:!0});6<=m("ios")&&(c.touches=a.touches,c.altKey=a.altKey,c.changedTouches=
a.changedTouches,c.ctrlKey=a.ctrlKey,c.metaKey=a.metaKey,c.shiftKey=a.shiftKey,c.targetTouches=a.targetTouches);return c}I=d.body();d.doc.addEventListener("touchstart",function(b){L=(new Date).getTime();var a=I;I=b.target;h.emit(a,"dojotouchout",{relatedTarget:I,bubbles:!0});h.emit(I,"dojotouchover",{relatedTarget:a,bubbles:!0});r(b,"touchmove","touchend")},!0);h(d.doc,"touchmove",function(a){L=(new Date).getTime();var c=d.doc.elementFromPoint(a.pageX-(x?0:d.global.pageXOffset),a.pageY-(x?0:d.global.pageYOffset));
c&&(I!==c&&(h.emit(I,"dojotouchout",{relatedTarget:c,bubbles:!0}),h.emit(c,"dojotouchover",{relatedTarget:I,bubbles:!0}),I=c),h.emit(c,"dojotouchmove",b(a))||a.preventDefault())});h(d.doc,"touchend",function(a){L=(new Date).getTime();var c=d.doc.elementFromPoint(a.pageX-(x?0:d.global.pageXOffset),a.pageY-(x?0:d.global.pageYOffset))||d.body();h.emit(c,"dojotouchend",b(a))})});k={press:c("mousedown","touchstart",b.down),move:c("mousemove","dojotouchmove",b.move),release:c("mouseup","dojotouchend",b.up),
cancel:c(e.leave,"touchcancel",s?b.cancel:null),over:c("mouseover","dojotouchover",b.over),out:c("mouseout","dojotouchout",b.out),enter:e._eventHandler(c("mouseover","dojotouchover",b.over)),leave:e._eventHandler(c("mouseout","dojotouchout",b.out))};return n.touch=k})},"dijit/_WidgetsInTemplateMixin":function(){define(["dojo/_base/array","dojo/aspect","dojo/_base/declare","dojo/_base/lang","dojo/parser"],function(n,k,g,l,f){return g("dijit._WidgetsInTemplateMixin",null,{_earlyTemplatedStartup:!1,
widgetsInTemplate:!0,contextRequire:null,_beforeFillContent:function(){if(this.widgetsInTemplate){var g=this.domNode;this.containerNode&&!this.searchContainerNode&&(this.containerNode.stopParser=!0);f.parse(g,{noStart:!this._earlyTemplatedStartup,template:!0,inherited:{dir:this.dir,lang:this.lang,textDir:this.textDir},propsThis:this,contextRequire:this.contextRequire,scope:"dojo"}).then(l.hitch(this,function(f){this._startupWidgets=f;for(var e=0;e<f.length;e++)this._processTemplateNode(f[e],function(a,
d){return a[d]},function(a,d,c){return d in a?a.connect(a,d,c):a.on(d,c,!0)});this.containerNode&&this.containerNode.stopParser&&delete this.containerNode.stopParser}));if(!this._startupWidgets)throw Error(this.declaredClass+": parser returned unfilled promise (probably waiting for module auto-load), unsupported by _WidgetsInTemplateMixin.   Must pre-load all supporting widgets before instantiation.");}},_processTemplateNode:function(f,g,e){return g(f,"dojoType")||g(f,"data-dojo-type")?!0:this.inherited(arguments)},
startup:function(){n.forEach(this._startupWidgets,function(f){f&&(!f._started&&f.startup)&&f.startup()});this._startupWidgets=null;this.inherited(arguments)}})})},"dijit/_CssStateMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom dojo/dom-class dojo/has dojo/_base/lang dojo/on dojo/domReady dojo/touch dojo/_base/window ./a11yclick ./registry".split(" "),function(n,k,g,l,f,h,m,e,a,d,c,z){k=k("dijit._CssStateMixin",[],{hovering:!1,active:!1,_applyAttributes:function(){this.inherited(arguments);
n.forEach("disabled readOnly checked selected focused state hovering active _opened".split(" "),function(a){this.watch(a,h.hitch(this,"_setStateClass"))},this);for(var a in this.cssStateNodes||{})this._trackMouseState(this[a],this.cssStateNodes[a]);this._trackMouseState(this.domNode,this.baseClass);this._setStateClass()},_cssMouseEvent:function(a){if(!this.disabled)switch(a.type){case "mouseover":case "MSPointerOver":case "pointerover":this._set("hovering",!0);this._set("active",this._mouseDown);
break;case "mouseout":case "MSPointerOut":case "pointerout":this._set("hovering",!1);this._set("active",!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":this._set("active",!0);break;case "mouseup":case "dojotouchend":case "MSPointerUp":case "pointerup":case "keyup":this._set("active",!1)}},_setStateClass:function(){function a(b){c=c.concat(n.map(c,function(a){return a+b}),"dijit"+b)}var c=this.baseClass.split(" ");this.isLeftToRight()||a("Rtl");var d=
"mixed"==this.checked?"Mixed":this.checked?"Checked":"";this.checked&&a(d);this.state&&a(this.state);this.selected&&a("Selected");this._opened&&a("Opened");this.disabled?a("Disabled"):this.readOnly?a("ReadOnly"):this.active?a("Active"):this.hovering&&a("Hover");this.focused&&a("Focused");var d=this.stateNode||this.domNode,b={};n.forEach(d.className.split(" "),function(a){b[a]=!0});"_stateClasses"in this&&n.forEach(this._stateClasses,function(a){delete b[a]});n.forEach(c,function(a){b[a]=!0});var e=
[],f;for(f in b)e.push(f);d.className=e.join(" ");this._stateClasses=c},_subnodeCssMouseEvent:function(a,c,d){function b(b){l.toggle(a,c+"Active",b)}if(!this.disabled&&!this.readOnly)switch(d.type){case "mouseover":case "MSPointerOver":case "pointerover":l.toggle(a,c+"Hover",!0);break;case "mouseout":case "MSPointerOut":case "pointerout":l.toggle(a,c+"Hover",!1);b(!1);break;case "mousedown":case "touchstart":case "MSPointerDown":case "pointerdown":case "keydown":b(!0);break;case "mouseup":case "MSPointerUp":case "pointerup":case "dojotouchend":case "keyup":b(!1);
break;case "focus":case "focusin":l.toggle(a,c+"Focused",!0);break;case "blur":case "focusout":l.toggle(a,c+"Focused",!1)}},_trackMouseState:function(a,c){a._cssState=c}});e(function(){function e(b,a,c){if(!c||!g.isDescendant(c,a))for(;a&&a!=c;a=a.parentNode)if(a._cssState){var d=z.getEnclosingWidget(a);d&&(a==d.domNode?d._cssMouseEvent(b):d._subnodeCssMouseEvent(a,a._cssState,b))}}var f=d.body(),h;m(f,a.over,function(b){e(b,b.target,b.relatedTarget)});m(f,a.out,function(b){e(b,b.target,b.relatedTarget)});
m(f,c.press,function(b){h=b.target;e(b,h)});m(f,c.release,function(b){e(b,h);h=null});m(f,"focusin, focusout",function(b){var a=b.target;if(a._cssState&&!a.getAttribute("widgetId")){var c=z.getEnclosingWidget(a);c&&c._subnodeCssMouseEvent(a,a._cssState,b)}})});return k})},"dijit/_KeyNavMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/keys dojo/_base/lang dojo/on dijit/registry dijit/_FocusMixin".split(" "),function(n,k,g,l,f,h,m,e){return k("dijit._KeyNavMixin",e,{tabIndex:"0",
childSelector:null,postCreate:function(){this.inherited(arguments);g.set(this.domNode,"tabIndex",this.tabIndex);if(!this._keyNavCodes){var a=this._keyNavCodes={};a[l.HOME]=f.hitch(this,"focusFirstChild");a[l.END]=f.hitch(this,"focusLastChild");a[this.isLeftToRight()?l.LEFT_ARROW:l.RIGHT_ARROW]=f.hitch(this,"_onLeftArrow");a[this.isLeftToRight()?l.RIGHT_ARROW:l.LEFT_ARROW]=f.hitch(this,"_onRightArrow");a[l.UP_ARROW]=f.hitch(this,"_onUpArrow");a[l.DOWN_ARROW]=f.hitch(this,"_onDownArrow")}var d=this,
a="string"==typeof this.childSelector?this.childSelector:f.hitch(this,"childSelector");this.own(h(this.domNode,"keypress",f.hitch(this,"_onContainerKeypress")),h(this.domNode,"keydown",f.hitch(this,"_onContainerKeydown")),h(this.domNode,"focus",f.hitch(this,"_onContainerFocus")),h(this.containerNode,h.selector(a,"focusin"),function(a){d._onChildFocus(m.getEnclosingWidget(this),a)}))},_onLeftArrow:function(){},_onRightArrow:function(){},_onUpArrow:function(){},_onDownArrow:function(){},focus:function(){this.focusFirstChild()},
_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1)},_getLastFocusableChild:function(){return this._getNextFocusableChild(null,-1)},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild())},focusLastChild:function(){this.focusChild(this._getLastFocusableChild())},focusChild:function(a,d){a&&(this.focusedChild&&a!==this.focusedChild&&this._onChildBlur(this.focusedChild),a.set("tabIndex",this.tabIndex),a.focus(d?"end":"start"))},_onContainerFocus:function(a){a.target!==
this.domNode||this.focusedChild||this.focus()},_onFocus:function(){g.set(this.domNode,"tabIndex","-1");this.inherited(arguments)},_onBlur:function(a){g.set(this.domNode,"tabIndex",this.tabIndex);this.focusedChild&&(this.focusedChild.set("tabIndex","-1"),this.lastFocusedChild=this.focusedChild,this._set("focusedChild",null));this.inherited(arguments)},_onChildFocus:function(a){a&&a!=this.focusedChild&&(this.focusedChild&&!this.focusedChild._destroyed&&this.focusedChild.set("tabIndex","-1"),a.set("tabIndex",
this.tabIndex),this.lastFocused=a,this._set("focusedChild",a))},_searchString:"",multiCharSearchDuration:1E3,onKeyboardSearch:function(a,d,c,e){a&&this.focusChild(a)},_keyboardSearchCompare:function(a,d){var c=a.domNode,c=(a.label||(c.focusNode?c.focusNode.label:"")||c.innerText||c.textContent||"").replace(/^\s+/,"").substr(0,d.length).toLowerCase();return d.length&&c==d?-1:0},_isFormElement:function(a){return"INPUT"===a.tagName||"TEXTAREA"===a.tagName||"SELECT"===a.tagName||"BUTTON"===a.tagName},
_onContainerKeydown:function(a){if(!this._isFormElement(document.activeElement)){var d=this._keyNavCodes[a.keyCode];d?(d(a,this.focusedChild),a.stopPropagation(),a.preventDefault(),this._searchString=""):a.keyCode==l.SPACE&&(this._searchTimer&&!a.ctrlKey&&!a.altKey&&!a.metaKey)&&(a.stopImmediatePropagation(),a.preventDefault(),this._keyboardSearch(a," "))}},_onContainerKeypress:function(a){if(!this._isFormElement(document.activeElement)&&!(a.charCode<=l.SPACE||a.ctrlKey||a.altKey||a.metaKey))a.preventDefault(),
a.stopPropagation(),this._keyboardSearch(a,String.fromCharCode(a.charCode).toLowerCase())},_keyboardSearch:function(a,d){var c=null,e,r=0;f.hitch(this,function(){this._searchTimer&&this._searchTimer.remove();this._searchString+=d;var a=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;e=this._searchString.substr(0,a);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var f=this.focusedChild||null;if(1==a||!f)if(f=this._getNextFocusableChild(f,
1),!f)return;a=f;do{var b=this._keyboardSearchCompare(f,e);b&&0==r++&&(c=f);if(-1==b){r=-1;break}f=this._getNextFocusableChild(f,1)}while(f!=a)})();this.onKeyboardSearch(c,a,e,r)},_onChildBlur:function(){},_getNextFocusableChild:function(a,d){var c=a;do{if(a)a=this._getNext(a,d);else if(a=this[0<d?"_getFirst":"_getLast"](),!a)break;if(null!=a&&a!=c&&a.isFocusable())return a}while(a!=c);return null},_getFirst:function(){return null},_getLast:function(){return null},_getNext:function(a,d){if(a)for(a=
a.domNode;a;)if((a=a[0>d?"previousSibling":"nextSibling"])&&"getAttribute"in a){var c=m.byNode(a);if(c)return c}return null}})})},"dijit/BackgroundIframe":function(){define("require ./main dojo/_base/config dojo/dom-construct dojo/dom-style dojo/_base/lang dojo/on dojo/sniff".split(" "),function(n,k,g,l,f,h,m,e){e.add("config-bgIframe",e("ie")&&!/IEMobile\/10\.0/.test(navigator.userAgent)||e("trident")&&/Windows NT 6.[01]/.test(navigator.userAgent));var a=new function(){var a=[];this.pop=function(){var c;
a.length?(c=a.pop(),c.style.display=""):(9>e("ie")?(c="\x3ciframe src\x3d'"+(g.dojoBlankHtmlUrl||n.toUrl("dojo/resources/blank.html")||'javascript:""')+"' role\x3d'presentation' style\x3d'position: absolute; left: 0px; top: 0px;z-index: -1; filter:Alpha(Opacity\x3d\"0\");'\x3e",c=document.createElement(c)):(c=l.create("iframe"),c.src='javascript:""',c.className="dijitBackgroundIframe",c.setAttribute("role","presentation"),f.set(c,"opacity",0.1)),c.tabIndex=-1);return c};this.push=function(c){c.style.display=
"none";a.push(c)}};k.BackgroundIframe=function(d){if(!d.id)throw Error("no id");if(e("config-bgIframe")){var c=this.iframe=a.pop();d.appendChild(c);7>e("ie")||e("quirks")?(this.resize(d),this._conn=m(d,"resize",h.hitch(this,"resize",d))):f.set(c,{width:"100%",height:"100%"})}};h.extend(k.BackgroundIframe,{resize:function(a){this.iframe&&f.set(this.iframe,{width:a.offsetWidth+"px",height:a.offsetHeight+"px"})},destroy:function(){this._conn&&(this._conn.remove(),this._conn=null);this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),
a.push(this.iframe),delete this.iframe)}});return k.BackgroundIframe})},"dijit/layout/_ContentPaneResizeMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/_base/lang dojo/query ../registry ../Viewport ./utils".split(" "),function(n,k,g,l,f,h,m,e,a,d){return k("dijit.layout._ContentPaneResizeMixin",null,{doLayout:!0,isLayoutContainer:!0,startup:function(){if(!this._started){var c=this.getParent();this._childOfLayoutWidget=c&&c.isLayoutContainer;
this._needLayout=!this._childOfLayoutWidget;this.inherited(arguments);this._isShown()&&this._onShow();this._childOfLayoutWidget||this.own(a.on("resize",h.hitch(this,"resize")))}},_checkIfSingleChild:function(){if(this.doLayout){var a=[],d=!1;m("\x3e *",this.containerNode).some(function(f){var g=e.byNode(f);g&&g.resize?a.push(g):!/script|link|style/i.test(f.nodeName)&&f.offsetHeight&&(d=!0)});this._singleChild=1==a.length&&!d?a[0]:null;g.toggle(this.containerNode,this.baseClass+"SingleChild",!!this._singleChild)}},
resize:function(a,d){this._resizeCalled=!0;this._scheduleLayout(a,d)},_scheduleLayout:function(a,d){this._isShown()?this._layout(a,d):(this._needLayout=!0,this._changeSize=a,this._resultSize=d)},_layout:function(a,e){delete this._needLayout;!this._wasShown&&!1!==this.open&&this._onShow();a&&l.setMarginBox(this.domNode,a);var f=this.containerNode;if(f===this.domNode){var g=e||{};h.mixin(g,a||{});if(!("h"in g)||!("w"in g))g=h.mixin(l.getMarginBox(f),g);this._contentBox=d.marginBox2contentBox(f,g)}else this._contentBox=
l.getContentBox(f);this._layoutChildren()},_layoutChildren:function(){this._checkIfSingleChild();if(this._singleChild&&this._singleChild.resize){var a=this._contentBox||l.getContentBox(this.containerNode);this._singleChild.resize({w:a.w,h:a.h})}else for(var a=this.getChildren(),d,e=0;d=a[e++];)d.resize&&d.resize()},_isShown:function(){if(this._childOfLayoutWidget)return this._resizeCalled&&"open"in this?this.open:this._resizeCalled;if("open"in this)return this.open;var a=this.domNode,d=this.domNode.parentNode;
return"none"!=a.style.display&&"hidden"!=a.style.visibility&&!g.contains(a,"dijitHidden")&&d&&d.style&&"none"!=d.style.display},_onShow:function(){this._wasShown=!0;this._needLayout&&this._layout(this._changeSize,this._resultSize);this.inherited(arguments)}})})},"dojo/date/stamp":function(){define(["../_base/lang","../_base/array"],function(n,k){var g={};n.setObject("dojo.date.stamp",g);g.fromISOString=function(l,f){g._isoRegExp||(g._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/);
var h=g._isoRegExp.exec(l),m=null;if(h){h.shift();h[1]&&h[1]--;h[6]&&(h[6]*=1E3);f&&(f=new Date(f),k.forEach(k.map("FullYear Month Date Hours Minutes Seconds Milliseconds".split(" "),function(a){return f["get"+a]()}),function(a,c){h[c]=h[c]||a}));m=new Date(h[0]||1970,h[1]||0,h[2]||1,h[3]||0,h[4]||0,h[5]||0,h[6]||0);100>h[0]&&m.setFullYear(h[0]||1970);var e=0,a=h[7]&&h[7].charAt(0);"Z"!=a&&(e=60*(h[8]||0)+(Number(h[9])||0),"-"!=a&&(e*=-1));a&&(e-=m.getTimezoneOffset());e&&m.setTime(m.getTime()+6E4*
e)}return m};g.toISOString=function(g,f){var h=function(a){return 10>a?"0"+a:a};f=f||{};var k=[],e=f.zulu?"getUTC":"get",a="";"time"!=f.selector&&(a=g[e+"FullYear"](),a=["0000".substr((a+"").length)+a,h(g[e+"Month"]()+1),h(g[e+"Date"]())].join("-"));k.push(a);if("date"!=f.selector){a=[h(g[e+"Hours"]()),h(g[e+"Minutes"]()),h(g[e+"Seconds"]())].join(":");e=g[e+"Milliseconds"]();f.milliseconds&&(a+="."+(100>e?"0":"")+h(e));if(f.zulu)a+="Z";else if("time"!=f.selector)var e=g.getTimezoneOffset(),d=Math.abs(e),
a=a+((0<e?"-":"+")+h(Math.floor(d/60))+":"+h(d%60));k.push(a)}return k.join("T")};return g})},"dijit/form/ToggleButton":function(){define(["dojo/_base/declare","dojo/_base/kernel","./Button","./_ToggleButtonMixin"],function(n,k,g,l){return n("dijit.form.ToggleButton",[g,l],{baseClass:"dijitToggleButton",setChecked:function(f){k.deprecated("setChecked("+f+") is deprecated. Use set('checked',"+f+") instead.","","2.0");this.set("checked",f)}})})},"dijit/form/_ButtonMixin":function(){define(["dojo/_base/declare",
"dojo/dom","dojo/has","../registry"],function(n,k,g,l){var f=n("dijit.form._ButtonMixin"+(g("dojo-bidi")?"_NoBidi":""),null,{label:"",type:"button",__onClick:function(f){f.stopPropagation();f.preventDefault();this.disabled||this.valueNode.click(f);return!1},_onClick:function(f){if(this.disabled)return f.stopPropagation(),f.preventDefault(),!1;!1===this.onClick(f)&&f.preventDefault();var g=f.defaultPrevented;if(!g&&"submit"==this.type&&!(this.valueNode||this.focusNode).form)for(var e=this.domNode;e.parentNode;e=
e.parentNode){var a=l.byNode(e);if(a&&"function"==typeof a._onSubmit){a._onSubmit(f);f.preventDefault();g=!0;break}}return!g},postCreate:function(){this.inherited(arguments);k.setSelectable(this.focusNode,!1)},onClick:function(){return!0},_setLabelAttr:function(f){this._set("label",f);(this.containerNode||this.focusNode).innerHTML=f}});g("dojo-bidi")&&(f=n("dijit.form._ButtonMixin",f,{_setLabelAttr:function(){this.inherited(arguments);this.applyTextDir(this.containerNode||this.focusNode)}}));return f})},
"dojo/html":function(){define("./_base/kernel ./_base/lang ./_base/array ./_base/declare ./dom ./dom-construct ./parser".split(" "),function(n,k,g,l,f,h,m){var e=0,a={_secureForInnerHtml:function(a){return a.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"")},_emptyNode:h.empty,_setNodeContent:function(a,c){h.empty(a);if(c)if("string"==typeof c&&(c=h.toDom(c,a.ownerDocument)),!c.nodeType&&k.isArrayLike(c))for(var e=c.length,f=0;f<c.length;f=e==c.length?f+1:0)h.place(c[f],a,"last");
else h.place(c,a,"last");return a},_ContentSetter:l("dojo.html._ContentSetter",null,{node:"",content:"",id:"",cleanContent:!1,extractContent:!1,parseContent:!1,parserScope:n._scopeName,startup:!0,constructor:function(a,c){k.mixin(this,a||{});c=this.node=f.byId(this.node||c);this.id||(this.id=["Setter",c?c.id||c.tagName:"",e++].join("_"))},set:function(a,c){void 0!==a&&(this.content=a);c&&this._mixin(c);this.onBegin();this.setContent();var e=this.onEnd();return e&&e.then?e:this.node},setContent:function(){var d=
this.node;if(!d)throw Error(this.declaredClass+": setContent given no node");try{d=a._setNodeContent(d,this.content)}catch(c){var e=this.onContentError(c);try{d.innerHTML=e}catch(f){console.error("Fatal "+this.declaredClass+".setContent could not change content due to "+f.message,f)}}this.node=d},empty:function(){this.parseDeferred&&(this.parseDeferred.isResolved()||this.parseDeferred.cancel(),delete this.parseDeferred);this.parseResults&&this.parseResults.length&&(g.forEach(this.parseResults,function(a){a.destroy&&
a.destroy()}),delete this.parseResults);h.empty(this.node)},onBegin:function(){var d=this.content;if(k.isString(d)&&(this.cleanContent&&(d=a._secureForInnerHtml(d)),this.extractContent)){var c=d.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);c&&(d=c[1])}this.empty();this.content=d;return this.node},onEnd:function(){this.parseContent&&this._parse();return this.node},tearDown:function(){delete this.parseResults;delete this.parseDeferred;delete this.node;delete this.content},onContentError:function(a){return"Error occurred setting content: "+
a},onExecError:function(a){return"Error occurred executing scripts: "+a},_mixin:function(a){var c={},e;for(e in a)e in c||(this[e]=a[e])},_parse:function(){var a=this.node;try{var c={};g.forEach(["dir","lang","textDir"],function(a){this[a]&&(c[a]=this[a])},this);var e=this;this.parseDeferred=m.parse({rootNode:a,noStart:!this.startup,inherited:c,scope:this.parserScope}).then(function(a){return e.parseResults=a},function(a){e._onError("Content",a,"Error parsing in _ContentSetter#"+this.id)})}catch(f){this._onError("Content",
f,"Error parsing in _ContentSetter#"+this.id)}},_onError:function(d,c,e){d=this["on"+d+"Error"].call(this,c);e?console.error(e,c):d&&a._setNodeContent(this.node,d,!0)}}),set:function(d,c,e){void 0==c&&(console.warn("dojo.html.set: no cont argument provided, using empty string"),c="");return e?(new a._ContentSetter(k.mixin(e,{content:c,node:d}))).set():a._setNodeContent(d,c,!0)}};k.setObject("dojo.html",a);return a})},"dijit/form/_FormWidgetMixin":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/dom-style dojo/_base/lang dojo/mouse dojo/on dojo/sniff dojo/window ../a11y".split(" "),
function(n,k,g,l,f,h,m,e,a,d){return k("dijit.form._FormWidgetMixin",null,{name:"",alt:"",value:"",type:"text","aria-label":"focusNode",tabIndex:"0",_setTabIndexAttr:"focusNode",disabled:!1,intermediateChanges:!1,scrollOnFocus:!0,_setIdAttr:"focusNode",_setDisabledAttr:function(a){this._set("disabled",a);g.set(this.focusNode,"disabled",a);this.valueNode&&g.set(this.valueNode,"disabled",a);this.focusNode.setAttribute("aria-disabled",a?"true":"false");a?(this._set("hovering",!1),this._set("active",
!1),a="tabIndex"in this.attributeMap?this.attributeMap.tabIndex:"_setTabIndexAttr"in this?this._setTabIndexAttr:"focusNode",n.forEach(f.isArray(a)?a:[a],function(a){a=this[a];e("webkit")||d.hasDefaultTabStop(a)?a.setAttribute("tabIndex","-1"):a.removeAttribute("tabIndex")},this)):""!=this.tabIndex&&this.set("tabIndex",this.tabIndex)},_onFocus:function(c){if("mouse"==c&&this.isFocusable())var d=this.own(m(this.focusNode,"focus",function(){k.remove();d.remove()}))[0],g=e("pointer-events")?"pointerup":
e("MSPointer")?"MSPointerUp":e("touch-events")?"touchend, mouseup":"mouseup",k=this.own(m(this.ownerDocumentBody,g,f.hitch(this,function(a){k.remove();d.remove();this.focused&&("touchend"==a.type?this.defer("focus"):this.focus())})))[0];this.scrollOnFocus&&this.defer(function(){a.scrollIntoView(this.domNode)});this.inherited(arguments)},isFocusable:function(){return!this.disabled&&this.focusNode&&"none"!=l.get(this.domNode,"display")},focus:function(){if(!this.disabled&&this.focusNode.focus)try{this.focusNode.focus()}catch(a){}},
compare:function(a,d){return"number"==typeof a&&"number"==typeof d?isNaN(a)&&isNaN(d)?0:a-d:a>d?1:a<d?-1:0},onChange:function(){},_onChangeActive:!1,_handleOnChange:function(a,d){if(void 0==this._lastValueReported&&(null===d||!this._onChangeActive))this._resetValue=this._lastValueReported=a;this._pendingOnChange=this._pendingOnChange||typeof a!=typeof this._lastValueReported||0!=this.compare(a,this._lastValueReported);if((this.intermediateChanges||d||void 0===d)&&this._pendingOnChange)this._lastValueReported=
a,this._pendingOnChange=!1,this._onChangeActive&&(this._onChangeHandle&&this._onChangeHandle.remove(),this._onChangeHandle=this.defer(function(){this._onChangeHandle=null;this.onChange(a)}))},create:function(){this.inherited(arguments);this._onChangeActive=!0},destroy:function(){this._onChangeHandle&&(this._onChangeHandle.remove(),this.onChange(this._lastValueReported));this.inherited(arguments)}})})},"dijit/_AttachMixin":function(){define("require dojo/_base/array dojo/_base/connect dojo/_base/declare dojo/_base/lang dojo/mouse dojo/on dojo/touch ./_WidgetBase".split(" "),
function(n,k,g,l,f,h,m,e,a){var d=f.delegate(e,{mouseenter:h.enter,mouseleave:h.leave,keypress:g._keypress}),c;g=l("dijit._AttachMixin",null,{constructor:function(){this._attachPoints=[];this._attachEvents=[]},buildRendering:function(){this.inherited(arguments);this._attachTemplateNodes(this.domNode);this._beforeFillContent()},_beforeFillContent:function(){},_attachTemplateNodes:function(a){for(var c=a;;)if(1==c.nodeType&&(this._processTemplateNode(c,function(a,c){return a.getAttribute(c)},this._attach)||
this.searchContainerNode)&&c.firstChild)c=c.firstChild;else{if(c==a)break;for(;!c.nextSibling;)if(c=c.parentNode,c==a)return;c=c.nextSibling}},_processTemplateNode:function(a,c,d){var e=!0,b=this.attachScope||this,q=c(a,"dojoAttachPoint")||c(a,"data-dojo-attach-point");if(q)for(var g=q.split(/\s*,\s*/);q=g.shift();)f.isArray(b[q])?b[q].push(a):b[q]=a,e="containerNode"!=q,this._attachPoints.push(q);if(c=c(a,"dojoAttachEvent")||c(a,"data-dojo-attach-event")){q=c.split(/\s*,\s*/);for(g=f.trim;c=q.shift();)if(c){var k=
null;-1!=c.indexOf(":")?(k=c.split(":"),c=g(k[0]),k=g(k[1])):c=g(c);k||(k=c);this._attachEvents.push(d(a,c,f.hitch(b,k)))}}return e},_attach:function(a,e,f){e=e.replace(/^on/,"").toLowerCase();e="dijitclick"==e?c||(c=n("./a11yclick")):d[e]||e;return m(a,e,f)},_detachTemplateNodes:function(){var a=this.attachScope||this;k.forEach(this._attachPoints,function(c){delete a[c]});this._attachPoints=[];k.forEach(this._attachEvents,function(a){a.remove()});this._attachEvents=[]},destroyRendering:function(){this._detachTemplateNodes();
this.inherited(arguments)}});f.extend(a,{dojoAttachEvent:"",dojoAttachPoint:""});return g})},"dijit/place":function(){define("dojo/_base/array dojo/dom-geometry dojo/dom-style dojo/_base/kernel dojo/_base/window ./Viewport ./main".split(" "),function(n,k,g,l,f,h,m){function e(a,c,e,l){var m=h.getEffectiveBox(a.ownerDocument);(!a.parentNode||"body"!=String(a.parentNode.tagName).toLowerCase())&&f.body(a.ownerDocument).appendChild(a);var s=null;n.some(c,function(b){var c=b.corner,f=b.pos,q=0,g={w:{L:m.l+
m.w-f.x,R:f.x-m.l,M:m.w}[c.charAt(1)],h:{T:m.t+m.h-f.y,B:f.y-m.t,M:m.h}[c.charAt(0)]},p=a.style;p.left=p.right="auto";e&&(q=e(a,b.aroundCorner,c,g,l),q="undefined"==typeof q?0:q);var y=a.style,h=y.display,n=y.visibility;"none"==y.display&&(y.visibility="hidden",y.display="");p=k.position(a);y.display=h;y.visibility=n;h={L:f.x,R:f.x-p.w,M:Math.max(m.l,Math.min(m.l+m.w,f.x+(p.w>>1))-p.w)}[c.charAt(1)];n={T:f.y,B:f.y-p.h,M:Math.max(m.t,Math.min(m.t+m.h,f.y+(p.h>>1))-p.h)}[c.charAt(0)];f=Math.max(m.l,
h);y=Math.max(m.t,n);h=Math.min(m.l+m.w,h+p.w);n=Math.min(m.t+m.h,n+p.h);h-=f;n-=y;q+=p.w-h+(p.h-n);if(null==s||q<s.overflow)s={corner:c,aroundCorner:b.aroundCorner,x:f,y:y,w:h,h:n,overflow:q,spaceAvailable:g};return!q});s.overflow&&e&&e(a,s.aroundCorner,s.corner,s.spaceAvailable,l);c=s.y;var b=s.x,q=f.body(a.ownerDocument);/relative|absolute/.test(g.get(q,"position"))&&(c-=g.get(q,"marginTop"),b-=g.get(q,"marginLeft"));q=a.style;q.top=c+"px";q.left=b+"px";q.right="auto";return s}var a={TL:"BR",TR:"BL",
BL:"TR",BR:"TL"};return m.place={at:function(d,c,f,g,k){f=n.map(f,function(d){var b={corner:d,aroundCorner:a[d],pos:{x:c.x,y:c.y}};g&&(b.pos.x+="L"==d.charAt(1)?g.x:-g.x,b.pos.y+="T"==d.charAt(0)?g.y:-g.y);return b});return e(d,f,k)},around:function(a,c,f,h,m){function s(b,a){G.push({aroundCorner:b,corner:a,pos:{x:{L:u,R:u+y,M:u+(y>>1)}[b.charAt(1)],y:{T:p,B:p+F,M:p+(F>>1)}[b.charAt(0)]}})}var b;if("string"==typeof c||"offsetWidth"in c||"ownerSVGElement"in c){if(b=k.position(c,!0),/^(above|below)/.test(f[0])){var q=
k.getBorderExtents(c),A=c.firstChild?k.getBorderExtents(c.firstChild):{t:0,l:0,b:0,r:0},w=k.getBorderExtents(a),t=a.firstChild?k.getBorderExtents(a.firstChild):{t:0,l:0,b:0,r:0};b.y+=Math.min(q.t+A.t,w.t+t.t);b.h-=Math.min(q.t+A.t,w.t+t.t)+Math.min(q.b+A.b,w.b+t.b)}}else b=c;if(c.parentNode){q="absolute"==g.getComputedStyle(c).position;for(c=c.parentNode;c&&1==c.nodeType&&"BODY"!=c.nodeName;){A=k.position(c,!0);w=g.getComputedStyle(c);/relative|absolute/.test(w.position)&&(q=!1);if(!q&&/hidden|auto|scroll/.test(w.overflow)){var t=
Math.min(b.y+b.h,A.y+A.h),v=Math.min(b.x+b.w,A.x+A.w);b.x=Math.max(b.x,A.x);b.y=Math.max(b.y,A.y);b.h=t-b.y;b.w=v-b.x}"absolute"==w.position&&(q=!0);c=c.parentNode}}var u=b.x,p=b.y,y="w"in b?b.w:b.w=b.width,F="h"in b?b.h:(l.deprecated("place.around: dijit/place.__Rectangle: { x:"+u+", y:"+p+", height:"+b.height+", width:"+y+" } has been deprecated.  Please use { x:"+u+", y:"+p+", h:"+b.height+", w:"+y+" }","","2.0"),b.h=b.height),G=[];n.forEach(f,function(b){var a=h;switch(b){case "above-centered":s("TM",
"BM");break;case "below-centered":s("BM","TM");break;case "after-centered":a=!a;case "before-centered":s(a?"ML":"MR",a?"MR":"ML");break;case "after":a=!a;case "before":s(a?"TL":"TR",a?"TR":"TL");s(a?"BL":"BR",a?"BR":"BL");break;case "below-alt":a=!a;case "below":s(a?"BL":"BR",a?"TL":"TR");s(a?"BR":"BL",a?"TR":"TL");break;case "above-alt":a=!a;case "above":s(a?"TL":"TR",a?"BL":"BR");s(a?"TR":"TL",a?"BR":"BL");break;default:s(b.aroundCorner,b.corner)}});a=e(a,G,m,{w:y,h:F});a.aroundNodePos=b;return a}}})},
"dijit/_KeyNavContainer":function(){define("dojo/_base/array dojo/_base/declare dojo/dom-attr dojo/_base/kernel dojo/keys dojo/_base/lang ./registry ./_Container ./_FocusMixin ./_KeyNavMixin".split(" "),function(n,k,g,l,f,h,m,e,a,d){return k("dijit._KeyNavContainer",[a,d,e],{connectKeyNavHandlers:function(a,d){var e=this._keyNavCodes={},g=h.hitch(this,"focusPrev"),k=h.hitch(this,"focusNext");n.forEach(a,function(a){e[a]=g});n.forEach(d,function(a){e[a]=k});e[f.HOME]=h.hitch(this,"focusFirstChild");
e[f.END]=h.hitch(this,"focusLastChild")},startupKeyNavChildren:function(){l.deprecated("startupKeyNavChildren() call no longer needed","","2.0")},startup:function(){this.inherited(arguments);n.forEach(this.getChildren(),h.hitch(this,"_startupChild"))},addChild:function(a,d){this.inherited(arguments);this._startupChild(a)},_startupChild:function(a){a.set("tabIndex","-1")},_getFirst:function(){var a=this.getChildren();return a.length?a[0]:null},_getLast:function(){var a=this.getChildren();return a.length?
a[a.length-1]:null},focusNext:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,1))},focusPrev:function(){this.focusChild(this._getNextFocusableChild(this.focusedChild,-1),!0)},childSelector:function(a){return(a=m.byNode(a))&&a.getParent()==this}})})},"esri/tasks/LengthsParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel".split(" "),function(n,k,g,l,f,h){n=n(null,{declaredClass:"esri.tasks.LengthsParameters",
polylines:null,lengthUnit:null,geodesic:null,calculationType:null,toJson:function(){var f=g.map(this.polylines,function(a){return a.toJson()}),e={};e.polylines=l.toJson(f);f=this.polylines[0].spatialReference;e.sr=f.wkid?f.wkid:l.toJson(f.toJson());this.lengthUnit&&(e.lengthUnit=this.lengthUnit);this.geodesic&&(e.geodesic=this.geodesic);this.calculationType&&(e.calculationType=this.calculationType);return e}});f("extend-esri")&&k.setObject("tasks.LengthsParameters",n,h);return n})},"dijit/form/Button":function(){define("require dojo/_base/declare dojo/dom-class dojo/has dojo/_base/kernel dojo/_base/lang dojo/ready ./_FormWidget ./_ButtonMixin dojo/text!./templates/Button.html ../a11yclick".split(" "),
function(n,k,g,l,f,h,m,e,a,d){l("dijit-legacy-requires")&&m(0,function(){n(["dijit/form/DropDownButton","dijit/form/ComboButton","dijit/form/ToggleButton"])});m=k("dijit.form.Button"+(l("dojo-bidi")?"_NoBidi":""),[e,a],{showLabel:!0,iconClass:"dijitNoIcon",_setIconClassAttr:{node:"iconNode",type:"class"},baseClass:"dijitButton",templateString:d,_setValueAttr:"valueNode",_setNameAttr:function(a){this.valueNode&&this.valueNode.setAttribute("name",a)},_fillContent:function(a){if(a&&(!this.params||!("label"in
this.params)))if(a=h.trim(a.innerHTML))this.label=a},_setShowLabelAttr:function(a){this.containerNode&&g.toggle(this.containerNode,"dijitDisplayNone",!a);this._set("showLabel",a)},setLabel:function(a){f.deprecated("dijit.form.Button.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},_setLabelAttr:function(a){this.inherited(arguments);!this.showLabel&&!("title"in this.params)&&(this.titleNode.title=h.trim(this.containerNode.innerText||this.containerNode.textContent||
""))}});l("dojo-bidi")&&(m=k("dijit.form.Button",m,{_setLabelAttr:function(a){this.inherited(arguments);this.titleNode.title&&this.applyTextDir(this.titleNode,this.titleNode.title)},_setTextDirAttr:function(a){this._created&&this.textDir!=a&&(this._set("textDir",a),this._setLabelAttr(this.label))}}));return m})},"esri/tasks/Task":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/json dojo/has ../kernel ../deferredUtils ../urlUtils ../Evented".split(" "),function(n,k,g,l,f,h,m,e){n=
n(e,{declaredClass:"esri.tasks._Task",_eventMap:{error:["error"],complete:["result"]},constructor:function(a,d){a&&k.isString(a)&&(this._url=m.urlToObject(this.url=a));d&&d.requestOptions&&(this.requestOptions=d.requestOptions);this.normalization=!0;this._errorHandler=k.hitch(this,this._errorHandler);this.registerConnectEvents()},_useSSL:function(){var a=this._url,d=/^http:/i;this.url&&(this.url=this.url.replace(d,"https:"));a&&a.path&&(a.path=a.path.replace(d,"https:"))},_encode:function(a,d,c){var e,
f,h={},l,b;for(l in a)if("declaredClass"!==l&&(e=a[l],f=typeof e,null!==e&&void 0!==e&&"function"!==f))if(k.isArray(e)){h[l]=[];b=e.length;for(f=0;f<b;f++)h[l][f]=this._encode(e[f])}else"object"===f?e.toJson&&(f=e.toJson(c&&c[l]),"esri.tasks.FeatureSet"===e.declaredClass&&f.spatialReference&&(f.sr=f.spatialReference,delete f.spatialReference),h[l]=d?f:g.toJson(f)):h[l]=e;return h},_successHandler:function(a,d,c,e){d&&this[d].apply(this,a);c&&c.apply(null,a);e&&h._resDfd(e,a)},_errorHandler:function(a,
d,c){this.onError(a);d&&d(a);c&&c.errback(a)},setNormalization:function(a){this.normalization=a},onError:function(){}});l("extend-esri")&&(f.Task=n);return n})},"dijit/_OnDijitClickMixin":function(){define("dojo/on dojo/_base/array dojo/keys dojo/_base/declare dojo/has ./a11yclick".split(" "),function(n,k,g,l,f,h){n=l("dijit._OnDijitClickMixin",null,{connect:function(f,e,a){return this.inherited(arguments,[f,"ondijitclick"==e?h:e,a])}});n.a11yclick=h;return n})},"dijit/a11yclick":function(){define(["dojo/keys",
"dojo/mouse","dojo/on","dojo/touch"],function(n,k,g,l){function f(e){if((e.keyCode===n.ENTER||e.keyCode===n.SPACE)&&!/input|button|textarea/i.test(e.target.nodeName))for(e=e.target;e;e=e.parentNode)if(e.dojoClick)return!0}var h;g(document,"keydown",function(e){f(e)?(h=e.target,e.preventDefault()):h=null});g(document,"keyup",function(e){f(e)&&e.target==h&&(h=null,g.emit(e.target,"click",{cancelable:!0,bubbles:!0,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,_origType:e.type}))});
var m=function(e,a){e.dojoClick=!0;return g(e,"click",a)};m.click=m;m.press=function(e,a){var d=g(e,l.press,function(c){("mousedown"!=c.type||k.isLeft(c))&&a(c)}),c=g(e,"keydown",function(c){(c.keyCode===n.ENTER||c.keyCode===n.SPACE)&&a(c)});return{remove:function(){d.remove();c.remove()}}};m.release=function(e,a){var d=g(e,l.release,function(c){("mouseup"!=c.type||k.isLeft(c))&&a(c)}),c=g(e,"keyup",function(c){(c.keyCode===n.ENTER||c.keyCode===n.SPACE)&&a(c)});return{remove:function(){d.remove();
c.remove()}}};m.move=l.move;return m})},"dijit/hccss":function(){define(["dojo/dom-class","dojo/hccss","dojo/domReady","dojo/_base/window"],function(n,k,g,l){g(function(){k("highcontrast")&&n.add(l.body(),"dijit_a11y")});return k})},"dijit/_TemplatedMixin":function(){define("dojo/cache dojo/_base/declare dojo/dom-construct dojo/_base/lang dojo/on dojo/sniff dojo/string ./_AttachMixin".split(" "),function(n,k,g,l,f,h,m,e){var a=k("dijit._TemplatedMixin",e,{templateString:null,templatePath:null,_skipNodeCache:!1,
searchContainerNode:!0,_stringRepl:function(a){var c=this.declaredClass,e=this;return m.substitute(a,this,function(a,d){"!"==d.charAt(0)&&(a=l.getObject(d.substr(1),!1,e));if("undefined"==typeof a)throw Error(c+" template:"+d);return null==a?"":"!"==d.charAt(0)?a:this._escapeValue(""+a)},this)},_escapeValue:function(a){return a.replace(/["'<>&]/g,function(a){return{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}[a]})},buildRendering:function(){if(!this._rendered){this.templateString||
(this.templateString=n(this.templatePath,{sanitize:!0}));var d=a.getCachedTemplate(this.templateString,this._skipNodeCache,this.ownerDocument),c;if(l.isString(d)){if(c=g.toDom(this._stringRepl(d),this.ownerDocument),1!=c.nodeType)throw Error("Invalid template: "+d);}else c=d.cloneNode(!0);this.domNode=c}this.inherited(arguments);this._rendered||this._fillContent(this.srcNodeRef);this._rendered=!0},_fillContent:function(a){var c=this.containerNode;if(a&&c)for(;a.hasChildNodes();)c.appendChild(a.firstChild)}});
a._templateCache={};a.getCachedTemplate=function(e,c,f){var k=a._templateCache,h=e,l=k[h];if(l){try{if(!l.ownerDocument||l.ownerDocument==(f||document))return l}catch(b){}g.destroy(l)}e=m.trim(e);if(c||e.match(/\$\{([^\}]+)\}/g))return k[h]=e;c=g.toDom(e,f);if(1!=c.nodeType)throw Error("Invalid template: "+e);return k[h]=c};h("ie")&&f(window,"unload",function(){var e=a._templateCache,c;for(c in e){var f=e[c];"object"==typeof f&&g.destroy(f);delete e[c]}});return a})},"dijit/form/_FormWidget":function(){define("dojo/_base/declare dojo/sniff dojo/_base/kernel dojo/ready ../_Widget ../_CssStateMixin ../_TemplatedMixin ./_FormWidgetMixin".split(" "),
function(n,k,g,l,f,h,m,e){k("dijit-legacy-requires")&&l(0,function(){require(["dijit/form/_FormValueWidget"])});return n("dijit.form._FormWidget",[f,m,h,e],{setDisabled:function(a){g.deprecated("setDisabled("+a+") is deprecated. Use set('disabled',"+a+") instead.","","2.0");this.set("disabled",a)},setValue:function(a){g.deprecated("dijit.form._FormWidget:setValue("+a+") is deprecated.  Use set('value',"+a+") instead.","","2.0");this.set("value",a)},getValue:function(){g.deprecated(this.declaredClass+
"::getValue() is deprecated. Use get('value') instead.","","2.0");return this.get("value")},postMixInProperties:function(){this.nameAttrSetting=this.name&&!k("msapp")?'name\x3d"'+this.name.replace(/"/g,"\x26quot;")+'"':"";this.inherited(arguments)}})})},"dijit/_HasDropDown":function(){define("dojo/_base/declare dojo/_base/Deferred dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-geometry dojo/dom-style dojo/has dojo/keys dojo/_base/lang dojo/on dojo/touch ./registry ./focus ./popup ./_FocusMixin".split(" "),
function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s,b){return n("dijit._HasDropDown",b,{_buttonNode:null,_arrowWrapperNode:null,_popupStateNode:null,_aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],_stopClickEvents:!0,_onDropDownMouseDown:function(a){!this.disabled&&!this.readOnly&&("MSPointerDown"!=a.type&&"pointerdown"!=a.type&&a.preventDefault(),this.own(c.once(this.ownerDocument,z.release,d.hitch(this,"_onDropDownMouseUp"))),this.toggleDropDown())},
_onDropDownMouseUp:function(a){var b=this.dropDown,c=!1;if(a&&this._opened){var e=h.position(this._buttonNode,!0);if(!(a.pageX>=e.x&&a.pageX<=e.x+e.w)||!(a.pageY>=e.y&&a.pageY<=e.y+e.h)){for(e=a.target;e&&!c;)f.contains(e,"dijitPopup")?c=!0:e=e.parentNode;if(c){e=a.target;if(b.onItemClick){for(var d;e&&!(d=r.byNode(e));)e=e.parentNode;if(d&&d.onClick&&d.getParent)d.getParent().onItemClick(d,a)}return}}}if(this._opened){if(b.focus&&(!1!==b.autoFocus||"mouseup"==a.type&&!this.hovering))this._focusDropDownTimer=
this.defer(function(){b.focus();delete this._focusDropDownTimer})}else this.focus&&this.defer("focus")},_onDropDownClick:function(a){this._stopClickEvents&&(a.stopPropagation(),a.preventDefault())},buildRendering:function(){this.inherited(arguments);this._buttonNode=this._buttonNode||this.focusNode||this.domNode;this._popupStateNode=this._popupStateNode||this.focusNode||this._buttonNode;var a={after:this.isLeftToRight()?"Right":"Left",before:this.isLeftToRight()?"Left":"Right",above:"Up",below:"Down",
left:"Left",right:"Right"}[this.dropDownPosition[0]]||this.dropDownPosition[0]||"Down";f.add(this._arrowWrapperNode||this._buttonNode,"dijit"+a+"ArrowButton")},postCreate:function(){this.inherited(arguments);var a=this.focusNode||this.domNode;this.own(c(this._buttonNode,z.press,d.hitch(this,"_onDropDownMouseDown")),c(this._buttonNode,"click",d.hitch(this,"_onDropDownClick")),c(a,"keydown",d.hitch(this,"_onKey")),c(a,"keyup",d.hitch(this,"_onKeyUp")))},destroy:function(){this._opened&&this.closeDropDown(!0);
this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroyRecursive(),delete this.dropDown);this.inherited(arguments)},_onKey:function(b){if(!this.disabled&&!this.readOnly){var c=this.dropDown,e=b.target;if(c&&(this._opened&&c.handleKey)&&!1===c.handleKey(b))b.stopPropagation(),b.preventDefault();else if(c&&this._opened&&b.keyCode==a.ESCAPE)this.closeDropDown(),b.stopPropagation(),b.preventDefault();else if(!this._opened&&(b.keyCode==a.DOWN_ARROW||(b.keyCode==a.ENTER||b.keyCode==a.SPACE&&(!this._searchTimer||
b.ctrlKey||b.altKey||b.metaKey))&&("input"!==(e.tagName||"").toLowerCase()||e.type&&"text"!==e.type.toLowerCase())))this._toggleOnKeyUp=!0,b.stopPropagation(),b.preventDefault()}},_onKeyUp:function(){if(this._toggleOnKeyUp){delete this._toggleOnKeyUp;this.toggleDropDown();var a=this.dropDown;a&&a.focus&&this.defer(d.hitch(a,"focus"),1)}},_onBlur:function(){this.closeDropDown(!1);this.inherited(arguments)},isLoaded:function(){return!0},loadDropDown:function(a){a()},loadAndOpenDropDown:function(){var a=
new k,b=d.hitch(this,function(){this.openDropDown();a.resolve(this.dropDown)});this.isLoaded()?b():this.loadDropDown(b);return a},toggleDropDown:function(){!this.disabled&&!this.readOnly&&(this._opened?this.closeDropDown(!0):this.loadAndOpenDropDown())},openDropDown:function(){var a=this.dropDown,b=a.domNode,c=this._aroundNode||this.domNode,e=this,g=s.open({parent:this,popup:a,around:c,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){e.closeDropDown(!0)},onCancel:function(){e.closeDropDown(!0)},
onClose:function(){l.set(e._popupStateNode,"popupActive",!1);f.remove(e._popupStateNode,"dijitHasDropDownOpen");e._set("_opened",!1)}});if(this.forceWidth||this.autoWidth&&c.offsetWidth>a._popupWrapper.offsetWidth){var c=c.offsetWidth-a._popupWrapper.offsetWidth,k={w:a.domNode.offsetWidth+c};d.isFunction(a.resize)?a.resize(k):h.setMarginBox(b,k);"R"==g.corner[1]&&(a._popupWrapper.style.left=a._popupWrapper.style.left.replace("px","")-c+"px")}l.set(this._popupStateNode,"popupActive","true");f.add(this._popupStateNode,
"dijitHasDropDownOpen");this._set("_opened",!0);this._popupStateNode.setAttribute("aria-expanded","true");this._popupStateNode.setAttribute("aria-owns",a.id);"presentation"!==b.getAttribute("role")&&!b.getAttribute("aria-labelledby")&&b.setAttribute("aria-labelledby",this.id);return g},closeDropDown:function(a){this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);this._opened&&(this._popupStateNode.setAttribute("aria-expanded","false"),a&&this.focus&&this.focus(),
s.close(this.dropDown),this._opened=!1)}})})},"esri/tasks/GeometryService":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/_base/Deferred dojo/has ../kernel ../request ../deferredUtils ./Task ../geometry/Extent ../geometry/Polyline ../geometry/Polygon ../geometry/Multipoint ../geometry/jsonUtils".split(" "),function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s){n=n(d,{declaredClass:"esri.tasks.GeometryService",_eventMap:{"areas-and-lengths-complete":["result"],"auto-complete-complete":["geometries"],
"buffer-complete":["geometries"],"convex-hull-complete":["geometry"],"cut-complete":["result"],"densify-complete":["geometries"],"difference-complete":["geometries"],"distance-complete":["distance"],"generalize-complete":["geometries"],"intersect-complete":["geometries"],"label-points-complete":["geometries"],"lengths-complete":["result"],"offset-complete":["geometries"],"project-complete":["geometries"],"relation-complete":["relations"],"reshape-complete":["geometry"],"simplify-complete":["geometries"],
"trim-extend-complete":["geometries"],"union-complete":["geometry"]},constructor:function(a){a=k.hitch;this._projectHandler=a(this,this._projectHandler);this._simplifyHandler=a(this,this._simplifyHandler);this._bufferHandler=a(this,this._bufferHandler);this._areasAndLengthsHandler=a(this,this._areasAndLengthsHandler);this._lengthsHandler=a(this,this._lengthsHandler);this._labelPointsHandler=a(this,this._labelPointsHandler);this._relationHandler=a(this,this._relationHandler);this._convexHullHandler=
a(this,this._convexHullHandler);this._unionHandler=a(this,this._unionHandler);this._autoCompleteHandler=a(this,this._autoCompleteHandler);this._reshapeHandler=a(this,this._reshapeHandler);this._cutHandler=a(this,this._cutHandler);this._intersectHandler=a(this,this._intersectHandler);this._differenceHandler=a(this,this._differenceHandler);this._trimExtendHandler=a(this,this._trimExtendHandler);this._densifyHandler=a(this,this._densifyHandler);this._generalizeHandler=a(this,this._densifyHandler);this._offsetHandler=
a(this,this._offsetHandler);this._distanceHandler=a(this,this._distanceHandler);this._toGeoCoordinateHandler=a(this,this._toGeoCoordinateHandler);this._fromGeoCoordinateHandler=a(this,this._fromGeoCoordinateHandler);this.registerConnectEvents()},_encodeGeometries:function(a){var c=[],e,d=a.length;for(e=0;e<d;e++)c.push(a[e].toJson());return{geometryType:s.getJsonType(a[0]),geometries:c}},_decodeGeometries:function(a,c,e){var d=s.getGeometryType(c);a=a.geometries;var f=[],h={spatialReference:e.toJson()},
l=k.mixin;g.forEach(a,function(a,b){f[b]=new d(l(a,h))});return f},_toProjectGeometry:function(a){var e=a.spatialReference.toJson();return a instanceof c?new r({rings:[[[a.xmin,a.ymin],[a.xmin,a.ymax],[a.xmax,a.ymax],[a.xmax,a.ymin],[a.xmin,a.ymin]]],spatialReference:e}):new z({paths:[[].concat(a.points)],spatialReference:e})},_fromProjectedGeometry:function(a,e,d){return"esriGeometryEnvelope"===e?(a=a.rings[0],new c(a[0][0],a[0][1],a[2][0],a[2][1],d)):new x({points:a.paths[0],spatialReference:d.toJson()})},
project:function(b,c,d,g){var h=k.mixin({},this._url.query,{f:"json"}),m;b.geometries?(g=d,d=c,c=b.outSR,m=b.geometries[0],h=k.mixin(h,b.toJson())):(m=b[0],h=k.mixin(h,{outSR:c.wkid||l.toJson(c.toJson()),inSR:m.spatialReference.wkid||l.toJson(m.spatialReference.toJson()),geometries:l.toJson(this._encodeGeometries(b))}));var u=s.getJsonType(m),p=this._projectHandler,y=this._errorHandler,n=new f(a._dfdCanceller);n._pendingDfd=e({url:this._url.path+"/project",content:h,callbackParamName:"callback",load:function(a,
b){p(a,b,u,c,d,g,n)},error:function(a){y(a,g,n)}});return n},_projectHandler:function(a,c,e,d,f,g,k){try{var p=this._decodeGeometries(a,e,d);this._successHandler([p],"onProjectComplete",f,k)}catch(h){this._errorHandler(h,g,k)}},onProjectComplete:function(){},simplify:function(b,c,d){var g=b[0].spatialReference,h=k.mixin({},this._url.query,{f:"json",sr:g.wkid?g.wkid:l.toJson(g.toJson()),geometries:l.toJson(this._encodeGeometries(b))}),m=s.getJsonType(b[0]),u=this._simplifyHandler,p=this._errorHandler,
y=new f(a._dfdCanceller);y._pendingDfd=e({url:this._url.path+"/simplify",content:h,callbackParamName:"callback",load:function(a,b){u(a,b,m,g,c,d,y)},error:function(a){p(a,d,y)}});return y},_simplifyHandler:function(a,c,e,d,f,g,k){try{var p=this._decodeGeometries(a,e,d);this._successHandler([p],"onSimplifyComplete",f,k)}catch(h){this._errorHandler(h,g,k)}},onSimplifyComplete:function(){},convexHull:function(b,c,d){var g=b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(g.toJson()),
geometries:l.toJson(this._encodeGeometries(b))});var h=this._convexHullHandler,m=this._errorHandler,u=new f(a._dfdCanceller);u._pendingDfd=e({url:this._url.path+"/convexHull",content:b,callbackParamName:"callback",load:function(a,b){h(a,b,g,c,d,u)},error:function(a){m(a,d,u)}});return u},_convexHullHandler:function(a,c,e,d,f,g){try{var k=s.fromJson(a.geometry).setSpatialReference(e);this._successHandler([k],"onConvexHullComplete",d,g)}catch(p){this._errorHandler(p,f,g)}},onConvexHullComplete:function(){},
union:function(b,c,d){var g=b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(g.toJson()),geometries:l.toJson(this._encodeGeometries(b))});var h=this._unionHandler,m=this._errorHandler,u=new f(a._dfdCanceller);u._pendingDfd=e({url:this._url.path+"/union",content:b,callbackParamName:"callback",load:function(a,b){h(a,b,g,c,d,u)},error:function(a){m(a,d,u)}});return u},_unionHandler:function(a,c,e,d,f,g){try{var k=s.fromJson(a.geometry).setSpatialReference(e);this._successHandler([k],
"onUnionComplete",d,g)}catch(p){this._errorHandler(p,f,g)}},onUnionComplete:function(){},autoComplete:function(b,c,d,g){var h=b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(h.toJson()),polygons:l.toJson(this._encodeGeometries(b).geometries),polylines:l.toJson(this._encodeGeometries(c).geometries)});var m=this._autoCompleteHandler,u=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/autoComplete",content:b,callbackParamName:"callback",load:function(a,
b){m(a,b,h,d,g,p)},error:function(a){u(a,g,p)}});return p},_autoCompleteHandler:function(a,c,e,d,f,g){try{var k=a.geometries;a=[];var p,h=k.length;for(p=0;p<h;p++)a[p]=new r({spatialReference:e,rings:k[p].rings});this._successHandler([a],"onAutoCompleteComplete",d,g)}catch(l){this._errorHandler(l,f,g)}},onAutoCompleteComplete:function(){},reshape:function(b,c,d,g){var h=b.spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(h.toJson()),target:l.toJson({geometryType:s.getJsonType(b),
geometry:b.toJson()}),reshaper:l.toJson(c.toJson())});var m=this._reshapeHandler,u=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/reshape",content:b,callbackParamName:"callback",load:function(a,b){m(a,b,h,d,g,p)},error:function(a){u(a,g,p)}});return p},_reshapeHandler:function(a,c,e,d,f,g){try{var h=s.fromJson(a.geometry).setSpatialReference(e);this._successHandler([h],"onReshapeComplete",d,g)}catch(p){this._errorHandler(p,f,g)}},onReshapeComplete:function(){},cut:function(b,
c,d,h){var m=b[0].spatialReference,n=g.map(b,function(a){return a.toJson()});b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(m.toJson()),target:l.toJson({geometryType:s.getJsonType(b[0]),geometries:n}),cutter:l.toJson(c.toJson())});var u=this._cutHandler,p=this._errorHandler,y=new f(a._dfdCanceller);y._pendingDfd=e({url:this._url.path+"/cut",content:b,callbackParamName:"callback",load:function(a,b){u(a,b,m,d,h,y)},error:function(a){p(a,h,y)}});return y},_cutHandler:function(a,c,e,d,f,h){try{var k=
a.geometries,p={};p.cutIndexes=a.cutIndexes;p.geometries=[];g.forEach(k,function(a){p.geometries.push(s.fromJson(a).setSpatialReference(e))});this._successHandler([p],"onCutComplete",d,h)}catch(l){this._errorHandler(l,f,h)}},onCutComplete:function(){},intersect:function(b,c,d,g){var h=b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(h.toJson()),geometries:l.toJson(this._encodeGeometries(b)),geometry:l.toJson({geometryType:s.getJsonType(c),geometry:c.toJson()})});var m=this._intersectHandler,
u=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/intersect",content:b,callbackParamName:"callback",load:function(a,b){m(a,b,h,d,g,p)},error:function(a){u(a,g,p)}});return p},_intersectHandler:function(a,c,e,d,f,h){try{var k=[];g.forEach(a.geometries,function(a){k.push(s.fromJson(a).setSpatialReference(e))});this._successHandler([k],"onIntersectComplete",d,h)}catch(p){this._errorHandler(p,f,h)}},onIntersectComplete:function(){},difference:function(b,c,d,g){var h=
b[0].spatialReference;b=k.mixin({},this._url.query,{f:"json",sr:l.toJson(h.toJson()),geometries:l.toJson(this._encodeGeometries(b)),geometry:l.toJson({geometryType:s.getJsonType(c),geometry:c.toJson()})});var m=this._differenceHandler,n=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/difference",content:b,callbackParamName:"callback",load:function(a,b){m(a,b,h,d,g,p)},error:function(a){n(a,g,p)}});return p},_differenceHandler:function(a,c,e,d,f,h){try{var k=[];g.forEach(a.geometries,
function(a){k.push(s.fromJson(a).setSpatialReference(e))});this._successHandler([k],"onDifferenceComplete",d,h)}catch(p){this._errorHandler(p,f,h)}},onDifferenceComplete:function(){},buffer:function(b,c,d){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.outSpatialReference||b.geometries[0].spatialReference,l=this._bufferHandler,m=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/buffer",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,
d,p)},error:function(a){m(a,d,p)}});return p},_bufferHandler:function(a,c,e,d,f,g){try{var h=a.geometries;a=[];var p,k=h.length;for(p=0;p<k;p++)a[p]=new r({spatialReference:e,rings:h[p].rings});this._successHandler([a],"onBufferComplete",d,g)}catch(l){this._errorHandler(l,f,g)}},onBufferComplete:function(){},areasAndLengths:function(b,c,d){b=k.mixin({},this._url.query,{f:"json"},b.toJson());var g=this._areasAndLengthsHandler,h=this._errorHandler,l=new f(a._dfdCanceller);l._pendingDfd=e({url:this._url.path+
"/areasAndLengths",content:b,callbackParamName:"callback",load:function(a,b){g(a,b,c,d,l)},error:function(a){h(a,d,l)}});return l},_areasAndLengthsHandler:function(a,c,e,d,f){try{this._successHandler([a],"onAreasAndLengthsComplete",e,f)}catch(g){this._errorHandler(g,d,f)}},onAreasAndLengthsComplete:function(){},lengths:function(b,c,d){b=k.mixin({},this._url.query,{f:"json"},b.toJson());var g=this._lengthsHandler,h=this._errorHandler,l=new f(a._dfdCanceller);l._pendingDfd=e({url:this._url.path+"/lengths",
content:b,callbackParamName:"callback",load:function(a,b){g(a,b,c,d,l)},error:function(a){h(a,d,l)}});return l},_lengthsHandler:function(a,c,e,d,f){try{this._successHandler([a],"onLengthsComplete",e,f)}catch(g){this._errorHandler(g,d,f)}},onLengthsComplete:function(){},labelPoints:function(b,c,d){var h=g.map(b,function(a){return a.toJson()}),m=b[0].spatialReference,h=k.mixin({},this._url.query,{f:"json",sr:m.wkid?m.wkid:l.toJson(m.toJson()),polygons:l.toJson(h)}),n=this._labelPointsHandler,u=this._errorHandler,
p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/labelPoints",content:h,callbackParamName:"callback",load:function(a,e){n(a,e,b,m,c,d,p)},error:function(a){u(a,d,p)}});return p},_labelPointsHandler:function(a,c,e,d,f,h,k){try{var p=[];g.forEach(a.labelPoints,function(a){p.push(s.fromJson(a).setSpatialReference(d))});this._successHandler([p],"onLabelPointsComplete",f,k)}catch(l){this._errorHandler(l,h,k)}},onLabelPointsComplete:function(){},relation:function(b,c,d){b=k.mixin({},this._url.query,
{f:"json"},b.toJson());var g=this._relationHandler,h=this._errorHandler,l=new f(a._dfdCanceller);l._pendingDfd=e({url:this._url.path+"/relation",content:b,callbackParamName:"callback",load:function(a,b){g(a,b,c,d,l)},error:function(a){h(a,d,l)}});return l},_relationHandler:function(a,c,e,d,f){try{this._successHandler([a.relations],"onRelationComplete",e,f)}catch(g){this._errorHandler(g,d,f)}},onRelationComplete:function(){},trimExtend:function(b,c,d){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),
h=b.sr,l=this._trimExtendHandler,m=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/trimExtend",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,d,p)},error:function(a){m(a,d,p)}});return p},_trimExtendHandler:function(a,c,e,d,f,g){try{var h=a.geometries;a=[];var k,l=h.length;for(k=0;k<l;k++)a[k]=new z({spatialReference:e,paths:h[k].paths});this._successHandler([a],"onTrimExtendComplete",d,g)}catch(m){this._errorHandler(m,f,g)}},onTrimExtendComplete:function(){},
densify:function(b,c,d){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.geometries[0].spatialReference,l=this._densifyHandler,m=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/densify",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,d,p)},error:function(a){m(a,d,p)}});return p},_densifyHandler:function(a,c,e,d,f,h){try{var k=[];g.forEach(a.geometries,function(a){k.push(s.fromJson(a).setSpatialReference(e))});this._successHandler([k],
"onDensifyComplete",d,h)}catch(p){this._errorHandler(p,f,h)}},onDensifyComplete:function(){},generalize:function(b,c,d){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.geometries[0].spatialReference,l=this._generalizeHandler,m=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/generalize",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,d,p)},error:function(a){m(a,d,p)}});return p},_generalizeHandler:function(a,c,e,d,f,h){try{var k=[];
g.forEach(a.geometries,function(a){k.push(s.fromJson(a).setSpatialReference(e))});this._successHandler([k],"onGeneralizeComplete",d,h)}catch(p){this._errorHandler(p,f,h)}},onGeneralizeComplete:function(){},offset:function(b,c,d){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.geometries[0].spatialReference,l=this._offsetHandler,m=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+"/offset",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,
d,p)},error:function(a){m(a,d,p)}});return p},_offsetHandler:function(a,c,e,d,f,h){try{var k=[];g.forEach(a.geometries,function(a){k.push(s.fromJson(a).setSpatialReference(e))});this._successHandler([k],"onOffsetComplete",d,h)}catch(p){this._errorHandler(p,f,h)}},onOffsetComplete:function(){},distance:function(b,c,d){var g=k.mixin({},this._url.query,{f:"json"},b.toJson()),h=b.geometry1.spatialReference,l=this._distanceHandler,m=this._errorHandler,p=new f(a._dfdCanceller);p._pendingDfd=e({url:this._url.path+
"/distance",content:g,callbackParamName:"callback",load:function(a,b){l(a,b,h,c,d,p)},error:function(a){m(a,d,p)}});return p},_distanceHandler:function(a,c,d,e,f,g){try{a=a&&a.distance,this._successHandler([a],"onDistanceComplete",e,g)}catch(h){this._errorHandler(h,f,g)}},onDistanceComplete:function(){},toGeoCoordinateString:function(b,c,d){var g={};k.isObject(b.sr)?g.sr=b.sr.wkid||l.toJson(b.sr.toJson()):g.sr=b.sr;g.coordinates=l.toJson(b.coordinates);g.conversionType=b.conversionType||"MGRS";g.conversionMode=
b.conversionMode;g.numOfDigits=b.numOfDigits;g.rounding=b.rounding;g.addSpaces=b.addSpaces;b=k.mixin({},this._url.query,{f:"json"},g);var h=this._toGeoCoordinateHandler,m=this._errorHandler,n=new f(a._dfdCanceller);n._pendingDfd=e({url:this._url.path+"/toGeoCoordinateString",content:b,callbackParamName:"callback",load:function(a,b){h(a,b,c,d,n)},error:function(a){m(a,d,n)}});return n},_toGeoCoordinateHandler:function(a,c,d,e,f){try{this._successHandler([a.strings],"onToGeoCoordinateStringComplete",
d,f)}catch(g){this._errorHandler(g,e,f)}},onToGeoCoordinateStringComplete:function(){},fromGeoCoordinateString:function(b,c,d){var g={};k.isObject(b.sr)?g.sr=b.sr.wkid||l.toJson(b.sr.toJson()):g.sr=b.sr;g.strings=l.toJson(b.strings);g.conversionType=b.conversionType||"MGRS";g.conversionMode=b.conversionMode;b=k.mixin({},this._url.query,{f:"json"},g);var h=this._fromGeoCoordinateHandler,m=this._errorHandler,n=new f(a._dfdCanceller);n._pendingDfd=e({url:this._url.path+"/fromGeoCoordinateString",content:b,
callbackParamName:"callback",load:function(a,b){h(a,b,c,d,n)},error:function(a){m(a,d,n)}});return n},_fromGeoCoordinateHandler:function(a,c,d,e,f){try{this._successHandler([a.coordinates],"onToGeoCoordinateStringComplete",d,f)}catch(g){this._errorHandler(g,e,f)}},onFromGeoCoordinateStringComplete:function(){}});k.mixin(n,{UNIT_METER:9001,UNIT_GERMAN_METER:9031,UNIT_FOOT:9002,UNIT_SURVEY_FOOT:9003,UNIT_CLARKE_FOOT:9005,UNIT_FATHOM:9014,UNIT_NAUTICAL_MILE:9030,UNIT_SURVEY_CHAIN:9033,UNIT_SURVEY_LINK:9034,
UNIT_SURVEY_MILE:9035,UNIT_KILOMETER:9036,UNIT_CLARKE_YARD:9037,UNIT_CLARKE_CHAIN:9038,UNIT_CLARKE_LINK:9039,UNIT_SEARS_YARD:9040,UNIT_SEARS_FOOT:9041,UNIT_SEARS_CHAIN:9042,UNIT_SEARS_LINK:9043,UNIT_BENOIT_1895A_YARD:9050,UNIT_BENOIT_1895A_FOOT:9051,UNIT_BENOIT_1895A_CHAIN:9052,UNIT_BENOIT_1895A_LINK:9053,UNIT_BENOIT_1895B_YARD:9060,UNIT_BENOIT_1895B_FOOT:9061,UNIT_BENOIT_1895B_CHAIN:9062,UNIT_BENOIT_1895B_LINK:9063,UNIT_INDIAN_FOOT:9080,UNIT_INDIAN_1937_FOOT:9081,UNIT_INDIAN_1962_FOOT:9082,UNIT_INDIAN_1975_FOOT:9083,
UNIT_INDIAN_YARD:9084,UNIT_INDIAN_1937_YARD:9085,UNIT_INDIAN_1962_YARD:9086,UNIT_INDIAN_1975_YARD:9087,UNIT_FOOT_1865:9070,UNIT_RADIAN:9101,UNIT_DEGREE:9102,UNIT_ARCMINUTE:9103,UNIT_ARCSECOND:9104,UNIT_GRAD:9105,UNIT_GON:9106,UNIT_MICRORADIAN:9109,UNIT_ARCMINUTE_CENTESIMAL:9112,UNIT_ARCSECOND_CENTESIMAL:9113,UNIT_MIL6400:9114,UNIT_BRITISH_1936_FOOT:9095,UNIT_GOLDCOAST_FOOT:9094,UNIT_INTERNATIONAL_CHAIN:109003,UNIT_INTERNATIONAL_LINK:109004,UNIT_INTERNATIONAL_YARD:109001,UNIT_STATUTE_MILE:9093,UNIT_SURVEY_YARD:109002,
UNIT_50KILOMETER_LENGTH:109030,UNIT_150KILOMETER_LENGTH:109031,UNIT_DECIMETER:109005,UNIT_CENTIMETER:109006,UNIT_MILLIMETER:109007,UNIT_INTERNATIONAL_INCH:109008,UNIT_US_SURVEY_INCH:109009,UNIT_INTERNATIONAL_ROD:109010,UNIT_US_SURVEY_ROD:109011,UNIT_US_NAUTICAL_MILE:109012,UNIT_UK_NAUTICAL_MILE:109013,UNIT_SQUARE_INCHES:"esriSquareInches",UNIT_SQUARE_FEET:"esriSquareFeet",UNIT_SQUARE_YARDS:"esriSquareYards",UNIT_ACRES:"esriAcres",UNIT_SQUARE_MILES:"esriSquareMiles",UNIT_SQUARE_MILLIMETERS:"esriSquareMillimeters",
UNIT_SQUARE_CENTIMETERS:"esriSquareCentimeters",UNIT_SQUARE_DECIMETERS:"esriSquareDecimeters",UNIT_SQUARE_METERS:"esriSquareMeters",UNIT_ARES:"esriAres",UNIT_HECTARES:"esriHectares",UNIT_SQUARE_KILOMETERS:"esriSquareKilometers"});h("extend-esri")&&k.setObject("tasks.GeometryService",n,m);return n})},"esri/tasks/AreasAndLengthsParameters":function(){define("dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/json dojo/has ../kernel".split(" "),function(n,k,g,l,f,h){n=n(null,{declaredClass:"esri.tasks.AreasAndLengthsParameters",
polygons:null,lengthUnit:null,areaUnit:null,calculationType:null,toJson:function(){var f=g.map(this.polygons,function(a){return a.toJson()}),e={};e.polygons=l.toJson(f);f=this.polygons[0].spatialReference;e.sr=f.wkid?f.wkid:l.toJson(f.toJson());this.lengthUnit&&(e.lengthUnit=this.lengthUnit);this.areaUnit&&(k.isString(this.areaUnit)?e.areaUnit=l.toJson({areaUnit:this.areaUnit}):e.areaUnit=this.areaUnit);this.calculationType&&(e.calculationType=this.calculationType);return e}});f("extend-esri")&&k.setObject("tasks.AreasAndLengthsParameters",
n,h);return n})},"dojo/parser":function(){define("require ./_base/kernel ./_base/lang ./_base/array ./_base/config ./dom ./_base/window ./_base/url ./aspect ./promise/all ./date/stamp ./Deferred ./has ./query ./on ./ready".split(" "),function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s,b){function q(a){return eval("("+a+")")}function A(a){var b=a._nameCaseMap,c=a.prototype;if(!b||b._extendCnt<t){var b=a._nameCaseMap={},d;for(d in c)"_"!==d.charAt(0)&&(b[d.toLowerCase()]=d);b._extendCnt=t}return b}function w(a,
b){var c=a.join();if(!v[c]){for(var d=[],e=0,f=a.length;e<f;e++){var h=a[e];d[d.length]=v[h]=v[h]||g.getObject(h)||~h.indexOf("/")&&(b?b(h):n(h))}e=d.shift();v[c]=d.length?e.createSubclass?e.createSubclass(d):e.extend.apply(e,d):e}return v[c]}new Date("X");var t=0;a.after(g,"extend",function(){t++},!0);var v={},u={_clearCache:function(){t++;v={}},_functionFromScript:function(a,b){var c="",d="",e=a.getAttribute(b+"args")||a.getAttribute("args"),f=a.getAttribute("with"),e=(e||"").split(/\s*,\s*/);f&&
f.length&&l.forEach(f.split(/\s*,\s*/),function(a){c+="with("+a+"){";d+="}"});return new Function(e,c+a.innerHTML+d)},instantiate:function(a,b,c){b=b||{};c=c||{};var d=(c.scope||k._scopeName)+"Type",e="data-"+(c.scope||k._scopeName)+"-",f=e+"type",g=e+"mixins",h=[];l.forEach(a,function(a){var c=d in b?b[d]:a.getAttribute(f)||a.getAttribute(d);if(c){var e=a.getAttribute(g),c=e?[c].concat(e.split(/\s*,\s*/)):[c];h.push({node:a,types:c})}});return this._instantiate(h,b,c)},_instantiate:function(a,b,
c,e){function f(a){!b._started&&!c.noStart&&l.forEach(a,function(a){"function"===typeof a.startup&&!a._started&&a.startup()});return a}a=l.map(a,function(a){var d=a.ctor||w(a.types,c.contextRequire);if(!d)throw Error("Unable to resolve constructor for: '"+a.types.join()+"'");return this.construct(d,a.node,b,c,a.scripts,a.inherited)},this);return e?d(a).then(f):f(a)},construct:function(b,d,f,h,m,n){function u(b){N&&g.setObject(N,b);for(w=0;w<J.length;w++)a[J[w].advice||"after"](b,J[w].method,g.hitch(b,
J[w].func),!0);for(w=0;w<Q.length;w++)Q[w].call(b);for(w=0;w<O.length;w++)b.watch(O[w].prop,O[w].func);for(w=0;w<P.length;w++)s(b,P[w].event,P[w].func);return b}var t=b&&b.prototype;h=h||{};var v={};h.defaults&&g.mixin(v,h.defaults);n&&g.mixin(v,n);var z;r("dom-attributes-explicit")?z=d.attributes:r("dom-attributes-specified-flag")?z=l.filter(d.attributes,function(a){return a.specified}):(n=(/^input$|^img$/i.test(d.nodeName)?d:d.cloneNode(!1)).outerHTML.replace(/=[^\s"']+|="[^"]*"|='[^']*'/g,"").replace(/^\s*<[a-zA-Z0-9]*\s*/,
"").replace(/\s*>.*$/,""),z=l.map(n.split(/\s+/),function(a){var b=a.toLowerCase();return{name:a,value:"LI"==d.nodeName&&"value"==a||"enctype"==b?d.getAttribute(b):d.getAttributeNode(b).value}}));var H=h.scope||k._scopeName;n="data-"+H+"-";var B={};"dojo"!==H&&(B[n+"props"]="data-dojo-props",B[n+"type"]="data-dojo-type",B[n+"mixins"]="data-dojo-mixins",B[H+"type"]="dojoType",B[n+"id"]="data-dojo-id");for(var w=0,C,H=[],N,K;C=z[w++];){var D=C.name,E=D.toLowerCase();C=C.value;switch(B[E]||E){case "data-dojo-type":case "dojotype":case "data-dojo-mixins":break;
case "data-dojo-props":K=C;break;case "data-dojo-id":case "jsid":N=C;break;case "data-dojo-attach-point":case "dojoattachpoint":v.dojoAttachPoint=C;break;case "data-dojo-attach-event":case "dojoattachevent":v.dojoAttachEvent=C;break;case "class":v["class"]=d.className;break;case "style":v.style=d.style&&d.style.cssText;break;default:if(D in t||(D=A(b)[E]||D),D in t)switch(typeof t[D]){case "string":v[D]=C;break;case "number":v[D]=C.length?Number(C):NaN;break;case "boolean":v[D]="false"!=C.toLowerCase();
break;case "function":""===C||-1!=C.search(/[^\w\.]+/i)?v[D]=new Function(C):v[D]=g.getObject(C,!1)||new Function(C);H.push(D);break;default:E=t[D],v[D]=E&&"length"in E?C?C.split(/\s*,\s*/):[]:E instanceof Date?""==C?new Date(""):"now"==C?new Date:c.fromISOString(C):E instanceof e?k.baseUrl+C:q(C)}else v[D]=C}}for(z=0;z<H.length;z++)B=H[z].toLowerCase(),d.removeAttribute(B),d[B]=null;if(K)try{K=q.call(h.propsThis,"{"+K+"}"),g.mixin(v,K)}catch(S){throw Error(S.toString()+" in data-dojo-props\x3d'"+
K+"'");}g.mixin(v,f);m||(m=b&&(b._noScript||t._noScript)?[]:x("\x3e script[type^\x3d'dojo/']",d));var J=[],Q=[],O=[],P=[];if(m)for(w=0;w<m.length;w++)B=m[w],d.removeChild(B),f=B.getAttribute(n+"event")||B.getAttribute("event"),h=B.getAttribute(n+"prop"),K=B.getAttribute(n+"method"),H=B.getAttribute(n+"advice"),z=B.getAttribute("type"),B=this._functionFromScript(B,n),f?"dojo/connect"==z?J.push({method:f,func:B}):"dojo/on"==z?P.push({event:f,func:B}):v[f]=B:"dojo/aspect"==z?J.push({method:K,advice:H,
func:B}):"dojo/watch"==z?O.push({prop:h,func:B}):Q.push(B);b=(m=b.markupFactory||t.markupFactory)?m(v,d,b):new b(v,d);return b.then?b.then(u):u(b)},scan:function(a,b){function c(a){if(!a.inherited){a.inherited={};var b=a.node,d=c(a.parent),b={dir:b.getAttribute("dir")||d.dir,lang:b.getAttribute("lang")||d.lang,textDir:b.getAttribute(q)||d.textDir},e;for(e in b)b[e]&&(a.inherited[e]=b[e])}return a.inherited}var d=[],e=[],f={},g=(b.scope||k._scopeName)+"Type",h="data-"+(b.scope||k._scopeName)+"-",m=
h+"type",q=h+"textdir",h=h+"mixins",u=a.firstChild,s=b.inherited;if(!s){var t=function(a,b){return a.getAttribute&&a.getAttribute(b)||a.parentNode&&t(a.parentNode,b)},s={dir:t(a,"dir"),lang:t(a,"lang"),textDir:t(a,q)},v;for(v in s)s[v]||delete s[v]}for(var s={inherited:s},x,A;;)if(u)if(1!=u.nodeType)u=u.nextSibling;else if(x&&"script"==u.nodeName.toLowerCase())(D=u.getAttribute("type"))&&/^dojo\/\w/i.test(D)&&x.push(u),u=u.nextSibling;else if(A)u=u.nextSibling;else{var D=u.getAttribute(m)||u.getAttribute(g);
v=u.firstChild;if(!D&&(!v||3==v.nodeType&&!v.nextSibling))u=u.nextSibling;else{A=null;if(D){var E=u.getAttribute(h);x=E?[D].concat(E.split(/\s*,\s*/)):[D];try{A=w(x,b.contextRequire)}catch(S){}A||l.forEach(x,function(a){~a.indexOf("/")&&!f[a]&&(f[a]=!0,e[e.length]=a)});E=A&&!A.prototype._noScript?[]:null;s={types:x,ctor:A,parent:s,node:u,scripts:E};s.inherited=c(s);d.push(s)}else s={node:u,scripts:x,parent:s};x=E;A=u.stopParser||A&&A.prototype.stopParser&&!b.template;u=v}}else{if(!s||!s.node)break;
u=s.node.nextSibling;A=!1;s=s.parent;x=s.scripts}var J=new z;e.length?(r("dojo-debug-messages")&&console.warn("WARNING: Modules being Auto-Required: "+e.join(", ")),(b.contextRequire||n)(e,function(){J.resolve(l.filter(d,function(a){if(!a.ctor)try{a.ctor=w(a.types,b.contextRequire)}catch(c){}for(var d=a.parent;d&&!d.types;)d=d.parent;var e=a.ctor&&a.ctor.prototype;a.instantiateChildren=!(e&&e.stopParser&&!b.template);a.instantiate=!d||d.instantiate&&d.instantiateChildren;return a.instantiate}))})):
J.resolve(d);return J.promise},_require:function(a,b){var c=q("{"+a.innerHTML+"}"),d=[],e=[],f=new z,h=b&&b.contextRequire||n,k;for(k in c)d.push(k),e.push(c[k]);h(e,function(){for(var a=0;a<d.length;a++)g.setObject(d[a],arguments[a]);f.resolve(arguments)});return f.promise},_scanAmd:function(a,b){var c=new z,d=c.promise;c.resolve(!0);var e=this;x("script[type\x3d'dojo/require']",a).forEach(function(a){d=d.then(function(){return e._require(a,b)});a.parentNode.removeChild(a)});return d},parse:function(a,
b){var c;!b&&a&&a.rootNode?(b=a,c=b.rootNode):a&&g.isObject(a)&&!("nodeType"in a)?b=a:c=a;c=c?h.byId(c):m.body();b=b||{};var d=b.template?{template:!0}:{},e=[],f=this,k=this._scanAmd(c,b).then(function(){return f.scan(c,b)}).then(function(a){return f._instantiate(a,d,b,!0)}).then(function(a){return e=e.concat(a)}).otherwise(function(a){console.error("dojo/parser::parse() error",a);throw a;});g.mixin(e,k);return e}};k.parser=u;f.parseOnLoad&&b(100,u,"parse");return u})},"dijit/_Widget":function(){define("dojo/aspect dojo/_base/config dojo/_base/connect dojo/_base/declare dojo/has dojo/_base/kernel dojo/_base/lang dojo/query dojo/ready ./registry ./_WidgetBase ./_OnDijitClickMixin ./_FocusMixin dojo/uacss ./hccss".split(" "),
function(n,k,g,l,f,h,m,e,a,d,c,z,r){function x(){}function s(a){return function(c,d,e,f){return c&&"string"==typeof d&&c[d]==x?c.on(d.substring(2).toLowerCase(),m.hitch(e,f)):a.apply(g,arguments)}}n.around(g,"connect",s);h.connect&&n.around(h,"connect",s);n=l("dijit._Widget",[c,z,r],{onClick:x,onDblClick:x,onKeyDown:x,onKeyPress:x,onKeyUp:x,onMouseDown:x,onMouseMove:x,onMouseOut:x,onMouseOver:x,onMouseLeave:x,onMouseEnter:x,onMouseUp:x,constructor:function(a){this._toConnect={};for(var c in a)this[c]===
x&&(this._toConnect[c.replace(/^on/,"").toLowerCase()]=a[c],delete a[c])},postCreate:function(){this.inherited(arguments);for(var a in this._toConnect)this.on(a,this._toConnect[a]);delete this._toConnect},on:function(a,c){return this[this._onMap(a)]===x?g.connect(this.domNode,a.toLowerCase(),this,c):this.inherited(arguments)},_setFocusedAttr:function(a){this._focused=a;this._set("focused",a)},setAttribute:function(a,c){h.deprecated(this.declaredClass+"::setAttribute(attr, value) is deprecated. Use set() instead.",
"","2.0");this.set(a,c)},attr:function(a,c){return 2<=arguments.length||"object"===typeof a?this.set.apply(this,arguments):this.get(a)},getDescendants:function(){h.deprecated(this.declaredClass+"::getDescendants() is deprecated. Use getChildren() instead.","","2.0");return this.containerNode?e("[widgetId]",this.containerNode).map(d.byNode):[]},_onShow:function(){this.onShow()},onShow:function(){},onHide:function(){},onClose:function(){return!0}});f("dijit-legacy-requires")&&a(0,function(){require(["dijit/_base"])});
return n})},"dijit/focus":function(){define("dojo/aspect dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/dom-construct dojo/Evented dojo/_base/lang dojo/on dojo/domReady dojo/sniff dojo/Stateful dojo/_base/window dojo/window ./a11y ./registry ./main".split(" "),function(n,k,g,l,f,h,m,e,a,d,c,z,r,x,s,b,q){var A,w,t=new (k([z,m],{curNode:null,activeStack:[],constructor:function(){var a=e.hitch(this,function(a){g.isDescendant(this.curNode,a)&&this.set("curNode",null);g.isDescendant(this.prevNode,
a)&&this.set("prevNode",null)});n.before(h,"empty",a);n.before(h,"destroy",a)},registerIframe:function(a){return this.registerWin(a.contentWindow,a)},registerWin:function(b,d){var e=this,f=b.document&&b.document.body;if(f){var g=c("pointer-events")?"pointerdown":c("MSPointer")?"MSPointerDown":c("touch-events")?"mousedown, touchstart":"mousedown",h=a(b.document,g,function(a){if(!a||!(a.target&&null==a.target.parentNode))e._onTouchNode(d||a.target,"mouse")}),k=a(f,"focusin",function(a){if(a.target.tagName){var b=
a.target.tagName.toLowerCase();"#document"==b||"body"==b||(s.isFocusable(a.target)?e._onFocusNode(d||a.target):e._onTouchNode(d||a.target))}}),l=a(f,"focusout",function(a){e._onBlurNode(d||a.target)});return{remove:function(){h.remove();k.remove();l.remove();f=h=k=l=null}}}},_onBlurNode:function(a){a=(new Date).getTime();a<A+100||(this._clearFocusTimer&&clearTimeout(this._clearFocusTimer),this._clearFocusTimer=setTimeout(e.hitch(this,function(){this.set("prevNode",this.curNode);this.set("curNode",
null)}),0),this._clearActiveWidgetsTimer&&clearTimeout(this._clearActiveWidgetsTimer),a<w+100||(this._clearActiveWidgetsTimer=setTimeout(e.hitch(this,function(){delete this._clearActiveWidgetsTimer;this._setStack([])}),0)))},_onTouchNode:function(a,c){w=(new Date).getTime();this._clearActiveWidgetsTimer&&(clearTimeout(this._clearActiveWidgetsTimer),delete this._clearActiveWidgetsTimer);f.contains(a,"dijitPopup")&&(a=a.firstChild);var d=[];try{for(;a;){var e=l.get(a,"dijitPopupParent");if(e)a=b.byId(e).domNode;
else if(a.tagName&&"body"==a.tagName.toLowerCase()){if(a===r.body())break;a=x.get(a.ownerDocument).frameElement}else{var g=a.getAttribute&&a.getAttribute("widgetId"),h=g&&b.byId(g);h&&!("mouse"==c&&h.get("disabled"))&&d.unshift(g);a=a.parentNode}}}catch(k){}this._setStack(d,c)},_onFocusNode:function(a){a&&9!=a.nodeType&&(A=(new Date).getTime(),this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._onTouchNode(a),a!=this.curNode&&(this.set("prevNode",this.curNode),
this.set("curNode",a)))},_setStack:function(a,c){var d=this.activeStack,e=d.length-1,f=a.length-1;if(a[f]!=d[e]){this.set("activeStack",a);var g;for(g=e;0<=g&&d[g]!=a[g];g--)if(e=b.byId(d[g]))e._hasBeenBlurred=!0,e.set("focused",!1),e._focusManager==this&&e._onBlur(c),this.emit("widget-blur",e,c);for(g++;g<=f;g++)if(e=b.byId(a[g]))e.set("focused",!0),e._focusManager==this&&e._onFocus(c),this.emit("widget-focus",e,c)}},focus:function(a){if(a)try{a.focus()}catch(b){}}}));d(function(){var b=t.registerWin(x.get(document));
c("ie")&&a(window,"unload",function(){b&&(b.remove(),b=null)})});q.focus=function(a){t.focus(a)};for(var v in t)/^_/.test(v)||(q.focus[v]="function"==typeof t[v]?e.hitch(t,v):t[v]);t.watch(function(a,b,c){q.focus[a]=c});return t})},"dijit/_FocusMixin":function(){define(["./focus","./_WidgetBase","dojo/_base/declare","dojo/_base/lang"],function(n,k,g,l){l.extend(k,{focused:!1,onFocus:function(){},onBlur:function(){},_onFocus:function(){this.onFocus()},_onBlur:function(){this.onBlur()}});return g("dijit._FocusMixin",
null,{_focusManager:n})})},"dijit/_Contained":function(){define(["dojo/_base/declare","./registry"],function(n,k){return n("dijit._Contained",null,{_getSibling:function(g){var l=this.domNode;do l=l[g+"Sibling"];while(l&&1!=l.nodeType);return l&&k.byNode(l)},getPreviousSibling:function(){return this._getSibling("previous")},getNextSibling:function(){return this._getSibling("next")},getIndexInParent:function(){var g=this.getParent();return!g||!g.getIndexOfChild?-1:g.getIndexOfChild(this)}})})},"dijit/Destroyable":function(){define(["dojo/_base/array",
"dojo/aspect","dojo/_base/declare"],function(n,k,g){return g("dijit.Destroyable",null,{destroy:function(g){this._destroyed=!0},own:function(){var g=["destroyRecursive","destroy","remove"];n.forEach(arguments,function(f){function h(){e.remove();n.forEach(a,function(a){a.remove()})}var m,e=k.before(this,"destroy",function(a){f[m](a)}),a=[];f.then?(m="cancel",f.then(h,h)):n.forEach(g,function(d){"function"===typeof f[d]&&(m||(m=d),a.push(k.after(f,d,h,!0)))})},this);return arguments}})})},"dojo/cache":function(){define(["./_base/kernel",
"./text"],function(n){return n.cache})},"dijit/form/_ToggleButtonMixin":function(){define(["dojo/_base/declare","dojo/dom-attr"],function(n,k){return n("dijit.form._ToggleButtonMixin",null,{checked:!1,_aria_attr:"aria-pressed",_onClick:function(g){var k=this.checked;this._set("checked",!k);var f=this.inherited(arguments);this.set("checked",f?this.checked:k);return f},_setCheckedAttr:function(g,l){this._set("checked",g);var f=this.focusNode||this.domNode;this._created&&k.get(f,"checked")!=!!g&&k.set(f,
"checked",!!g);f.setAttribute(this._aria_attr,String(g));this._handleOnChange(g,l)},postCreate:function(){this.inherited(arguments);var g=this.focusNode||this.domNode;this.checked&&g.setAttribute("checked","checked");void 0===this._resetValue&&(this._lastValueReported=this._resetValue=this.checked)},reset:function(){this._hasBeenBlurred=!1;this.set("checked",this.params.checked||!1)}})})},"dijit/DropDownMenu":function(){define(["dojo/_base/declare","dojo/keys","dojo/text!./templates/Menu.html","./_MenuBase"],
function(n,k,g,l){return n("dijit.DropDownMenu",l,{templateString:g,baseClass:"dijitMenu",_onUpArrow:function(){this.focusPrev()},_onDownArrow:function(){this.focusNext()},_onRightArrow:function(f){this._moveToPopup(f);f.stopPropagation();f.preventDefault()},_onLeftArrow:function(f){if(this.parentMenu)if(this.parentMenu._isMenuBar)this.parentMenu.focusPrev();else this.onCancel(!1);else f.stopPropagation(),f.preventDefault()}})})},"dijit/MenuItem":function(){define("dojo/_base/declare dojo/dom dojo/dom-attr dojo/dom-class dojo/_base/kernel dojo/sniff dojo/_base/lang ./_Widget ./_TemplatedMixin ./_Contained ./_CssStateMixin dojo/text!./templates/MenuItem.html".split(" "),
function(n,k,g,l,f,h,m,e,a,d,c,z){m=n("dijit.MenuItem"+(h("dojo-bidi")?"_NoBidi":""),[e,a,d,c],{templateString:z,baseClass:"dijitMenuItem",label:"",_setLabelAttr:function(a){this._set("label",a);var c="",d;d=a.search(/{\S}/);if(0<=d){var c=a.charAt(d+1),b=a.substr(0,d);a=a.substr(d+3);d=b+c+a;a=b+'\x3cspan class\x3d"dijitMenuItemShortcutKey"\x3e'+c+"\x3c/span\x3e"+a}else d=a;this.domNode.setAttribute("aria-label",d+" "+this.accelKey);this.containerNode.innerHTML=a;this._set("shortcutKey",c)},iconClass:"dijitNoIcon",
_setIconClassAttr:{node:"iconNode",type:"class"},accelKey:"",disabled:!1,_fillContent:function(a){a&&!("label"in this.params)&&this._set("label",a.innerHTML)},buildRendering:function(){this.inherited(arguments);g.set(this.containerNode,"id",this.id+"_text");this.accelKeyNode&&g.set(this.accelKeyNode,"id",this.id+"_accel");k.setSelectable(this.domNode,!1)},onClick:function(){},focus:function(){try{8==h("ie")&&this.containerNode.focus(),this.focusNode.focus()}catch(a){}},_setSelected:function(a){l.toggle(this.domNode,
"dijitMenuItemSelected",a)},setLabel:function(a){f.deprecated("dijit.MenuItem.setLabel() is deprecated.  Use set('label', ...) instead.","","2.0");this.set("label",a)},setDisabled:function(a){f.deprecated("dijit.Menu.setDisabled() is deprecated.  Use set('disabled', bool) instead.","","2.0");this.set("disabled",a)},_setDisabledAttr:function(a){this.focusNode.setAttribute("aria-disabled",a?"true":"false");this._set("disabled",a)},_setAccelKeyAttr:function(a){this.accelKeyNode&&(this.accelKeyNode.style.display=
a?"":"none",this.accelKeyNode.innerHTML=a,g.set(this.containerNode,"colSpan",a?"1":"2"));this._set("accelKey",a)}});h("dojo-bidi")&&(m=n("dijit.MenuItem",m,{_setLabelAttr:function(a){this.inherited(arguments);"auto"===this.textDir&&this.applyTextDir(this.textDirNode)}}));return m})},"dijit/_Container":function(){define(["dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/_base/kernel"],function(n,k,g,l){return k("dijit._Container",null,{buildRendering:function(){this.inherited(arguments);
this.containerNode||(this.containerNode=this.domNode)},addChild:function(f,h){var k=this.containerNode;if(0<h){for(k=k.firstChild;0<h;)1==k.nodeType&&h--,k=k.nextSibling;k?h="before":(k=this.containerNode,h="last")}g.place(f.domNode,k,h);this._started&&!f._started&&f.startup()},removeChild:function(f){"number"==typeof f&&(f=this.getChildren()[f]);f&&(f=f.domNode)&&f.parentNode&&f.parentNode.removeChild(f)},hasChildren:function(){return 0<this.getChildren().length},_getSiblingOfChild:function(f,g){l.deprecated(this.declaredClass+
"::_getSiblingOfChild() is deprecated. Use _KeyNavMixin::_getNext() instead.","","2.0");var k=this.getChildren(),e=n.indexOf(k,f);return k[e+g]},getIndexOfChild:function(f){return n.indexOf(this.getChildren(),f)}})})},"url:dijit/templates/MenuItem.html":'\x3ctr class\x3d"dijitReset" data-dojo-attach-point\x3d"focusNode" role\x3d"menuitem" tabIndex\x3d"-1"\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemIconCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan role\x3d"presentation" class\x3d"dijitInline dijitIcon dijitMenuItemIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemLabel" colspan\x3d"2" data-dojo-attach-point\x3d"containerNode,textDirNode"\r\n\t\trole\x3d"presentation"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuItemAccelKey" style\x3d"display: none" data-dojo-attach-point\x3d"accelKeyNode"\x3e\x3c/td\x3e\r\n\t\x3ctd class\x3d"dijitReset dijitMenuArrowCell" role\x3d"presentation"\x3e\r\n\t\t\x3cspan data-dojo-attach-point\x3d"arrowWrapper" style\x3d"visibility: hidden"\x3e\r\n\t\t\t\x3cspan class\x3d"dijitInline dijitIcon dijitMenuExpand"\x3e\x3c/span\x3e\r\n\t\t\t\x3cspan class\x3d"dijitMenuExpandA11y"\x3e+\x3c/span\x3e\r\n\t\t\x3c/span\x3e\r\n\t\x3c/td\x3e\r\n\x3c/tr\x3e\r\n',
"url:dijit/templates/Menu.html":'\x3ctable class\x3d"dijit dijitMenu dijitMenuPassive dijitReset dijitMenuTable" role\x3d"menu" tabIndex\x3d"${tabIndex}"\r\n\t   cellspacing\x3d"0"\x3e\r\n\t\x3ctbody class\x3d"dijitReset" data-dojo-attach-point\x3d"containerNode"\x3e\x3c/tbody\x3e\r\n\x3c/table\x3e\r\n',"url:dijit/form/templates/DropDownButton.html":'\x3cspan class\x3d"dijit dijitReset dijitInline"\r\n\t\x3e\x3cspan class\x3d\'dijitReset dijitInline dijitButtonNode\'\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" data-dojo-attach-point\x3d"_buttonNode"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"focusNode,titleNode,_arrowWrapperNode,_popupStateNode"\r\n\t\t\trole\x3d"button" aria-haspopup\x3d"true" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon"\r\n\t\t\t\tdata-dojo-attach-point\x3d"iconNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonInner"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitArrowButtonChar"\x3e\x26#9660;\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen" tabIndex\x3d"-1"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\tdata-dojo-attach-point\x3d"valueNode" role\x3d"presentation" aria-hidden\x3d"true"\r\n/\x3e\x3c/span\x3e\r\n',
"url:dijit/form/templates/Button.html":'\x3cspan class\x3d"dijit dijitReset dijitInline" role\x3d"presentation"\r\n\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonNode"\r\n\t\tdata-dojo-attach-event\x3d"ondijitclick:__onClick" role\x3d"presentation"\r\n\t\t\x3e\x3cspan class\x3d"dijitReset dijitStretch dijitButtonContents"\r\n\t\t\tdata-dojo-attach-point\x3d"titleNode,focusNode"\r\n\t\t\trole\x3d"button" aria-labelledby\x3d"${id}_label"\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitIcon" data-dojo-attach-point\x3d"iconNode"\x3e\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitToggleButtonIconChar"\x3e\x26#x25CF;\x3c/span\r\n\t\t\t\x3e\x3cspan class\x3d"dijitReset dijitInline dijitButtonText"\r\n\t\t\t\tid\x3d"${id}_label"\r\n\t\t\t\tdata-dojo-attach-point\x3d"containerNode"\r\n\t\t\t\x3e\x3c/span\r\n\t\t\x3e\x3c/span\r\n\t\x3e\x3c/span\r\n\t\x3e\x3cinput ${!nameAttrSetting} type\x3d"${type}" value\x3d"${value}" class\x3d"dijitOffScreen"\r\n\t\tdata-dojo-attach-event\x3d"onclick:_onClick"\r\n\t\ttabIndex\x3d"-1" role\x3d"presentation" aria-hidden\x3d"true" data-dojo-attach-point\x3d"valueNode"\r\n/\x3e\x3c/span\x3e\r\n',
"url:esri/dijit/templates/Measurement.html":"\x3cdiv class\x3d\"esriMeasurement\"\x3e\r\n  \x3cdiv dojoType\x3d'dijit.layout.ContentPane' class\x3d'esriMeasurementButtonContainer'\x3e\r\n    \x3cdiv dojoType\x3d'dijit.form.ToggleButton' baseClass\x3d'esriButton' dojoAttachPoint\x3d'_areaButton' iconClass\x3d'areaIcon' showLabel\x3d'false' dojoAttachEvent\x3d'onClick:_areaButtonToggle'\x3e\x3c/div\x3e\r\n    \x3cdiv dojoType\x3d'dijit.form.ToggleButton' baseClass\x3d'esriButton' dojoAttachPoint\x3d'_distanceButton' iconClass\x3d'distanceIcon' showLabel\x3d'false' dojoAttachEvent\x3d'onClick:_distanceButtonToggle'\x3e\x3c/div\x3e\r\n    \x3cdiv dojoType\x3d'dijit.form.ToggleButton' baseClass\x3d'esriButton' dojoAttachPoint\x3d'_locationButton' iconClass\x3d'locationIcon' showLabel\x3d'false' dojoAttachEvent\x3d'onClick:_locationButtonToggle'\x3e\x3c/div\x3e\r\n    \x3cdiv class\x3d\"esriMeasurementSeparator\"\x3e|\x3c/div\x3e\r\n    \x3cbutton dojoType\x3d'dijit.form.DropDownButton' baseClass\x3d'esriToggleButton' dojoAttachPoint\x3d'_unitDropDown' label\x3d'unit' value\x3d'unit' style\x3d'visibility:hidden;'\x3e\x3c/button\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv dojoType\x3d'dijit.layout.ContentPane' dojoAttachPoint\x3d'resultLabel' class\x3d'resultLabel esriMeasurementResultLabel'\x3e\x3c/div\x3e\r\n  \x3cdiv dojoType\x3d'dijit.layout.ContentPane' dojoAttachPoint\x3d'resultValueContainer' align\x3d'leading' class\x3d\"esriMeasurementResultValue\"\x3e\r\n    \x3cdiv dojoType\x3d'dijit.layout.ContentPane' dojoAttachPoint\x3d'resultValue' class\x3d'result'\x3e\x26nbsp;\x3c/div\x3e\r\n  \x3c/div\x3e\r\n  \x3cdiv dojoType\x3d'dijit.layout.ContentPane' dojoAttachPoint\x3d'resultTable' align\x3d'leading' class\x3d\"resultTable esriMeasurementTableContainer\" style\x3d\"display:none;\"\x3e\r\n    \x3ctable class\x3d\"esriMeasurementResultTable\"\x3e\r\n      \x3ctr\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableHeader\" colspan\x3d\"2\"\x3e${_NLS_Lon}\x3c/td\x3e\x3ctd class\x3d\"esriMeasurementTableHeader\"\x3e${_NLS_Lat}\x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d\"esriMeasurementTableRow\" dojoAttachPoint\x3d\"_mouseRow\"\x3e\r\n        \x3ctd dojoAttachPoint\x3d\"mouseCell\"\x3e\x3c/td\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableCell\"\x3e\r\n          \x3cspan dojoAttachPoint\x3d\"mouseLongitude\" dir\x3d'ltr'\x3e\x3c/span\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableCell\"\x3e\r\n          \x3cspan dojoAttachPoint\x3d\"mouseLatitude\" dir\x3d'ltr'\x3e\x3c/span\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n      \x3ctr class\x3d\"esriMeasurementTableRow\"\x3e\r\n        \x3ctd dojoAttachPoint\x3d\"pinCell\"\x3e\x3c/td\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableCell\"\x3e\r\n          \x3cspan dojoAttachPoint\x3d\"markerLongitude\" dir\x3d'ltr'\x3e\x3c/span\x3e\r\n        \x3c/td\x3e\r\n        \x3ctd class\x3d\"esriMeasurementTableCell\"\x3e\r\n          \x3cspan dojoAttachPoint\x3d\"markerLatitude\" dir\x3d'ltr'\x3e\x3c/span\x3e\r\n        \x3c/td\x3e\r\n      \x3c/tr\x3e\r\n    \x3c/table\x3e\r\n  \x3c/div\x3e\r\n\x3c/div\x3e",
"*now":function(n){n(['dojo/i18n!*preload*esri/dijit/nls/Measurement*["ar","az","ca","cs","da","de-de","el","en-gb","en-us","es-es","fi-fi","fr-fr","he-il","hu","it-it","ja-jp","ko-kr","nl-nl","nb","pl","pt-br","pt-pt","ro","ru","sk","sl","sv","th","tr","zh-tw","zh-cn","ROOT"]'])},"*noref":1}});
define("esri/dijit/Measurement","require dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/connect dojo/_base/Color dojo/sniff dojo/number dojo/dom-style dojo/dom-construct dojox/gfx dijit/_Widget dijit/registry dijit/Menu dijit/MenuItem ../symbols/PictureMarkerSymbol ../symbols/SimpleLineSymbol ../symbols/SimpleFillSymbol ../symbols/jsonUtils ../geometry/geodesicUtils ../geometry/webMercatorUtils ../geometry/Point ../geometry/Polyline ../geometry/Polygon ../graphic ../tasks/AreasAndLengthsParameters ../tasks/LengthsParameters ../tasks/GeometryService ../kernel ../config ../domUtils ../lang ../units ../WKIDUnitConversion ../SpatialReference dijit/_TemplatedMixin dijit/_WidgetsInTemplateMixin ./_EventedWidget dojo/text!./templates/Measurement.html dojo/i18n!../nls/jsapi dijit/form/ToggleButton dijit/form/DropDownButton dijit/layout/ContentPane".split(" "),function(n,
k,g,l,f,h,m,e,a,d,c,z,r,x,s,b,q,A,w,t,v,u,p,y,F,G,L,I,T,U,M,V,H,B,R,C,N,K,D,E){k=k([K,z,C,N],{declaredClass:"esri.dijit.Measurement",widgetsInTemplate:!0,templateString:D,_map:null,_geometryService:null,_interpolatedMap:null,_mouseImgURL:null,_defaultPinURL:null,_measureGraphics:[],_measureGraphic:null,_locationGraphic:null,_tempGraphic:null,_polylineGraphics:null,_polygonGraphic:null,_pointSymbol:null,_useDefaultPointSymbol:!0,_defaultLineSymbol:null,_lineSymbol:null,_areaLineSymbol:null,_defaultFillSymbol:null,
_fillSymbol:null,_borderlessFillSymbol:null,_inputPoints:[],_unitDictionary:[],numberPattern:"#,###,###,##0.0",result:null,_defaultDistanceUnit:null,_defaultAreaUnit:null,_defaultLocationUnit:null,currentDistanceUnit:null,currentAreaUnit:null,currentLocationUnit:null,_unitStrings:{},_locationUnitStrings:[],_locationUnitStringsLong:[],_distanceUnitStrings:[],_distanceUnitStringsLong:[],_areaUnitStrings:[],_areaUnitStringsLong:[],_calculatingMsg:null,_gsErrorMsg:null,_NLS_Lat:null,_NLS_Lon:null,_mouseMoveMapHandler:null,
_mouseClickMapHandler:null,_doubleClickMapHandler:null,_mouseDragMapHandler:null,_clickMapHandler:null,_mapExtentChangeHandler:null,_geometryAreaHandler:null,_snappingCallback:null,_calcTimer:null,_buttonDijits:{},previousTool:null,activeTool:null,markerLongitude:null,markerLatitude:null,mouseLongitude:null,mouseLatitude:null,_eventMap:{"measure-start":["toolName","unitName"],measure:["toolName","geometry","values","unitName"],"measure-end":["toolName","geometry","values","unitName"],"tool-change":["toolName",
"unitName","previousToolName"],"unit-change":["unitName","toolName"]},constructor:function(a,c){a=a||{};if(a.map){this._map=a.map;if(this._map.loaded)this._map.cs=this._checkCS(this._map.spatialReference),this._interpolatedMap=!("Web Mercator"===this._map.cs||"PCS"===this._map.cs);else var d=f.connect(this._map,"onLoad",this,function(){f.disconnect(d);d=null;this._map.cs=this._checkCS(this._map.spatialReference);this._interpolatedMap=!("Web Mercator"===this._map.cs||"PCS"===this._map.cs)});this._geometryService=
U.defaults.geometryService;this._mouseImgURL=n.toUrl("./images/cursor16x24.png");this._defaultPinURL=n.toUrl("./images/esriGreenPin16x26.png");this._defaultLineSymbol=new q(q.STYLE_SOLID,new h([0,128,255]),3);this._defaultFillSymbol=new A(q.STYLE_SOLID,new q(q.STYLE_SOLID,new h([0,128,255]),3),new h([0,0,0,0.5]));a.pointSymbol?(this._pointSymbol=a.pointSymbol,this._useDefaultPointSymbol=!1):(this._pointSymbol=new b(this._defaultPinURL,16,26),this._pointSymbol.setOffset(0,12));var e=a.fillSymbol||
this._defaultFillSymbol;this._fillSymbol=e;this._areaLineSymbol=e.outline||this._defaultLineSymbol;this._borderlessFillSymbol=w.fromJson(e.toJson());this._borderlessFillSymbol.setOutline(null);this._lineSymbol=a.lineSymbol?a.lineSymbol:this._defaultLineSymbol;this._defaultDistanceUnit=a.defaultLengthUnit?a.defaultLengthUnit:H.MILES;this._defaultAreaUnit=a.defaultAreaUnit?a.defaultAreaUnit:H.ACRES;this._defaultLocationUnit=a.defaultLocationUnit?a.defaultLocationUnit:H.DECIMAL_DEGREES;this._snappingCallback=
g.hitch(this,this._snappingCallback);a.geometry&&(this._userGeometry=a.geometry);this._calcTimer=null;this.advancedLocationUnits=a.advancedLocationUnits||!1;this.simpleLocationResults=a.simpleLocationResults||!1;this._NLS_Lon=E.widgets.measurement.NLS_longitude;this._NLS_Lat=E.widgets.measurement.NLS_latitude;this._gsErrorMsg=E.widgets.measurement.NLS_geometry_service_error;this._calculatingMsg=E.widgets.measurement.NLS_calculating}else console.log("Unable to find the required 'map' property in widget parameters")},
startup:function(){this._setupDictionaries();d.create("img",{src:this._mouseImgURL,style:"vertical-align:middle"},this.mouseCell);this._useDefaultPointSymbol?d.create("img",{src:this._defaultPinURL,style:"vertical-align:middle"},this.pinCell):this._drawPointGraphics(this.pinCell);if(this._userGeometry)if(this._map.loaded)this._measureCustomGeometry();else var a=f.connect(this._map,"onLoad",this,function(){f.disconnect(a);a=null;this._measureCustomGeometry()})},destroy:function(){this._resetToolState();
this.clearResult();this.inherited(arguments);this._map=this._geometryService=this._measureGraphics=this._measureGraphic=this._tempGraphic=null},setTool:function(b,c){this.previousTool=this.activeTool||null;this._polylineGraphics=[];this._resetToolState();this._polygonGraphic&&(this._map.graphics.remove(this._polygonGraphic),this._polygonGraphic=null);var d=r.byNode(this._buttonDijits[b].domNode).checked;a.set(this._unitDropDown.domNode,"visibility","visible");r.byNode(this._buttonDijits.area.domNode).set("checked",
!1);r.byNode(this._buttonDijits.distance.domNode).set("checked",!1);r.byNode(this._buttonDijits.location.domNode).set("checked",!1);if(!0===c||!1===c)d=c;r.byNode(this._buttonDijits[b].domNode).set("checked",d);this._toggleLocationResultsTable(!1,!0);d?(this.activeTool=b,(this._dblClickZoom=this._map.isDoubleClickZoom)&&this._map.disableDoubleClickZoom(),"area"===b?this._setupAreaTool():"distance"===b?this._setupDistanceTool():"location"===b&&this._setupLocationTool(),this._map.snappingManager&&(this._map.snappingManager._startSelectionLayerQuery(),
this._map.snappingManager._setUpSnapping())):(this.activeTool=null,a.set(this._unitDropDown.domNode,"visibility","hidden"));if(this.activeTool!==this.previousTool)this.onToolChange(this.activeTool,this.getUnit(),this.previousTool)},measure:function(a){a&&(this._userGeometry=a,this._measureCustomGeometry())},clearResult:function(){var a=this._map;this.result=0;r.byNode(this.resultValue.domNode).set("content","\x26nbsp");var b;for(b=0;b<this._measureGraphics.length;b++)a.graphics.remove(this._measureGraphics[b]);
this._measureGraphic=null;this._measureGraphics=[];a.graphics.remove(this._tempGraphic);f.disconnect(this._mouseMoveMapHandler);this._mouseMoveMapHandler=null},show:function(){M.show(this.domNode)},hide:function(){M.hide(this.domNode)},showTool:function(b){a.set(this._buttonDijits[b].domNode,"display","inline-block")},hideTool:function(b){a.set(this._buttonDijits[b].domNode,"display","none")},getTool:function(){if(this.activeTool)return{toolName:this.activeTool,unitName:this.getUnit()}},getUnit:function(){if("unit"!==
this._unitDropDown.label)return this._unitDropDown.label},_setupLocationTool:function(){this._map.navigationManager.setImmediateClick(!0);this._measureGraphics=[];this._map.graphics.remove(this._locationGraphic);this._createLocationUnitList();"PCS"===this._map.cs&&(this._projectMapExtent(this._map.extent),this._mapExtentChangeHandler=f.connect(this._map,"onExtentChange",g.hitch(this,this._projectMapExtent)));this._clickMapHandler=f.connect(this._map,"onClick",this,"_locationClickHandler");this._mouseMoveMapHandler=
f.connect(this._map,"onMouseMove",this,"_locationMoveHandler");this._mouseDragMapHandler=f.connect(this._map,"onMouseDrag",g.hitch(this,function(){r.byNode(this.resultValue.domNode).set("disabled",!0)}))},_locationButtonToggle:function(){this.clearResult();this.setTool("location")},_measureCustomPoint:function(){this.setTool("location",!0);"Web Mercator"===this._map.cs&&this._userGeometry.spatialReference!==this._map.spatialReference&&(this._userGeometry=v.geographicToWebMercator(this._userGeometry));
this._measureGraphic=new F;this._measureGraphic.setSymbol(this._pointSymbol);this._measureGraphic.setGeometry(this._userGeometry);this._measureGraphics.push(this._measureGraphic);this._map.graphics.add(this._measureGraphic);this._measurePoint(this._userGeometry)},_calculateLocation:function(a,b){var c="esriDegreeMinuteSeconds"===this.currentLocationUnit||"esriDecimalDegrees"===this.currentLocationUnit?!1:!0;c&&this._mouseMoveMapHandler&&(f.disconnect(this._mouseMoveMapHandler),this._mouseMoveMapHandler=
null);var d=g.clone(a);if(b){if("Web Mercator"!==this.map.cs){this._projectLocation(d,c);return}this._updateMarkerLocation(d.x,d.y)}d=this._getGCSLocation(d);this._advancedLocationDisplayHandler(d,c,b)},_projectLocation:function(a,b){this._geometryService.project([a],new R({wkid:4326}),g.hitch(this,function(a){this._advancedLocationDisplayHandler(a[0],b,!0)}),g.hitch(this,function(a){console.log(this._gsErrorMsg,a)}))},_advancedLocationDisplayHandler:function(a,b,c){b?this._updateGeocoordinateStringLocation({coordinates:[[a.x,
a.y]],sr:{wkid:4326},conversionType:this._unitStrings[this.currentLocationUnit]},a.geometry):(b=this._calculateXY(a.x,a.y),c?(this._updateClickLocation(b[0],b[1]),this.onMeasureEnd(this.activeTool,a,[b[0],b[1]],this.getUnit())):this._updateMouseLocation(b[0],b[1]))},_updateMarkerLocation:function(a,b){this.markerLocationX=a;this.markerLocationY=b},_updateMouseLocation:function(a,b){this.mouseLongitude.innerHTML=a;this.mouseLatitude.innerHTML=b},_updateClickLocation:function(a,b){this._updateMouseLocation(a,
b);this.markerLongitude.innerHTML=a;this.markerLatitude.innerHTML=b},_updateGeocoordinateStringLocation:function(a,b){this.resultValue.domNode.innerHTML="\x26nbsp";this._geometryService.toGeoCoordinateString(a,g.hitch(this,function(a){clearTimeout(this._calcTimer);a?(this.resultValue.domNode.innerHTML=a,this.onMeasureEnd(this.activeTool,b,a,this.getUnit())):(this.resultValue.domNode.innerHTML=this._gsErrorMsg,this.onMeasureEnd(this.activeTool,null,null,this.getUnit()))}));clearTimeout(this._calcTimer);
this._calcTimer=setTimeout(g.hitch(this,function(){this.resultValue.domNode.innerHTML=this._calculatingMsg},1E3))},_switchLocationUnit:function(a){var b,c;r.byNode(this._unitDropDown.domNode).set("label",this._unitStrings[a]);this.currentLocationUnit=a;f.disconnect(this._mouseMoveMapHandler);this._mouseMoveMapHandler=null;this.onUnitChange(this._unitStrings[a],this.activeTool);"esriDegreeMinuteSeconds"===a||"esriDecimalDegrees"===a?(this._mouseMoveMapHandler=f.connect(this._map,"onMouseMove",this,
"_locationMoveHandler"),this._toggleLocationResultsTable(!0,!1),this._locationGraphic&&this._calculateLocation(this._locationGraphic.geometry,!0)):(this._toggleLocationResultsTable(!1,!1),null===this.resultValue||null===this.markerLocationX&&null===this.markerLocationY||(b=this.markerLocationX,c=this.markerLocationY,this._locationGraphic&&this._updateGeocoordinateStringLocation({coordinates:[[b,c]],sr:{wkid:4326},conversionType:this._unitStrings[a]},this._locationGraphic.geometry)))},_toggleLocationResultsTable:function(a,
b){b&&(this.resultValue.innerHTML="\x26nbsp",this.markerLongitude.innerHTML="---",this.markerLatitude.innerHTML="---",this.mouseLongitude.innerHTML="---",this.mouseLatitude.innerHTML="---");a?(M.show(this.resultTable.domNode),M.hide(this.resultValueContainer.domNode)):(M.hide(this.resultTable.domNode),M.show(this.resultValueContainer.domNode),f.disconnect(this._mouseMoveMapHandler));"PCS"===this._map.cs&&M.hide(this._mouseRow)},_setupDistanceTool:function(){this._map.navigationManager.setImmediateClick(!0);
"PCS"===this._map.cs&&(this._projectMapExtent(this._map.extent),this._mapExtentChangeHandler=f.connect(this._map,"onExtentChange",this,"_projectMapExtent"));this._inputPoints=[];this._createDistanceUnitList();this._mouseClickMapHandler=f.connect(this._map,"onClick",this,"_measureDistanceMouseClickHandler");this._doubleClickMapHandler=f.connect(this._map,"onDblClick",this,"_measureDistanceDblClickHandler")},_distanceButtonToggle:function(){this.clearResult();this.setTool("distance")},_measureCustomDistance:function(){1<
this._userGeometry.paths[0].length&&(this.setTool("distance",!0),this._inputPoints=[],l.forEach(this._userGeometry.paths[0],g.hitch(this,function(a,b){this._inputPoints.push(a);var c=new F(new u(a[0],a[1],this._userGeometry.spatialReference),this._pointSymbol);this._measureGraphics.push(c);this._map.graphics.add(c);0!==b&&(this.result+=this._geodesicDistance(a,this._userGeometry.paths[0][b-1]))})),this._measureGraphic=new F,this._measureGraphic.setSymbol(this._lineSymbol),this._measureGraphics.push(this._measureGraphic),
this._userGeometry=this._densifyGeometry(this._userGeometry),this._measureGraphic.setGeometry(this._userGeometry),this._map.graphics.add(this._measureGraphic),this._showDistance(this.result),this._inputPoints=[],this.onMeasureEnd(this.activeTool,this._userGeometry,this.result,this.getUnit()))},_showDistance:function(a){a&&this._outputResult(a,r.byNode(this._unitDropDown.domNode).label)},_setupAreaTool:function(){this._map.navigationManager.setImmediateClick(!0);this._inputPoints=[];this._createAreaUnitList();
this._tempGraphic=new F;this._tempGraphic.setSymbol(this._areaLineSymbol);this._tempGraphic.setGeometry(new p(this._map.spatialReference));this._map.graphics.add(this._tempGraphic);"PCS"===this._map.cs&&(this._geometryAreaHandler=f.connect(this._geometryService,"onAreasAndLengthsComplete",this,"_outputArea"));this._mouseClickMapHandler=f.connect(this._map,"onClick",this,"_measureAreaMouseClickHandler");this._doubleClickMapHandler=f.connect(this._map,"onDblClick",this,"_measureAreaDblClickHandler")},
_areaButtonToggle:function(){this.clearResult();this.setTool("area")},_generatePolygonFromPaths:function(){var a=[];l.forEach(this._polylineGraphics,g.hitch(this,function(b){l.forEach(b.geometry.paths,g.hitch(this,function(b){l.forEach(b,g.hitch(this,function(b){a.push(b)}))}))}));a.push(a[0]);var b=new y(this._map.spatialReference);b.addRing(a);var b=this._densifyGeometry(b),c=new F;c.setGeometry(b);c.setSymbol(this._borderlessFillSymbol);this._measureGraphic=c;this._measureGraphics.push(c);return c},
_getArea:function(a){var b=[],c=new G;c.areaUnit=I.UNIT_ACRES;c.calculationType="geodesic";y.prototype.isSelfIntersecting(a)?this._geometryService.simplify([a],g.hitch(this,function(a){l.forEach(a,g.hitch(this,function(d){"PCS"===this._map.cs?(c.polygons=a,this._geometryService.areasAndLengths(c)):("Web Mercator"===this._map.cs&&(d=v.webMercatorToGeographic(d)),b.push(d))}));var d=t.geodesicAreas(b,H.ACRES);this._showArea(d[0])})):("Web Mercator"===this._map.cs&&(a=v.webMercatorToGeographic(a)),b.push(a),
"PCS"===this._map.cs?(c.polygons=b,this._geometryService.areasAndLengths(c)):(a=t.geodesicAreas(b,H.ACRES),this._showArea(Math.abs(a[0]))))},_outputArea:function(a){this._showArea(Math.abs(a.areas[0]))},_showArea:function(a){if(a)if(this.result=a,a=r.byNode(this._unitDropDown.domNode).label,a=this._outputResult(this.result,a),this._mouseMoveMapHandler)this.onMeasure(this.activeTool,this._measureGraphic.geometry,a,this.getUnit());else this.onMeasureEnd(this.activeTool,this._measureGraphic.geometry,
a,this.getUnit())},_measureCustomArea:function(){this.setTool("area",!0);this._inputPoints=[];var a=this._densifyGeometry(this._userGeometry);this._measureGraphic=new F;this._measureGraphic.setGeometry(a);this._measureGraphic.setSymbol(this._fillSymbol);this._measureGraphics.push(this._measureGraphic);this._map.graphics.add(this._measureGraphic);this._getArea(a);this._inputPoints=[]},_resetToolState:function(){var a=this._map;a.navigationManager.setImmediateClick(!1);this._dblClickZoom&&a.enableDoubleClickZoom();
this._inputPoints=[];f.disconnect(this._mouseClickMapHandler);f.disconnect(this._mouseMoveMapHandler);f.disconnect(this._doubleClickMapHandler);f.disconnect(this._mouseDragMapHandler);f.disconnect(this._clickMapHandler);f.disconnect(this._mapExtentChangeHandler);f.disconnect(this._geometryAreaHandler);this._mouseClickMapHandler=this._mouseMoveMapHandler=this._doubleClickMapHandler=this._mouseDragMapHandler=this._clickMapHandler=this._mapExtentChangeHandler=this._geometryAreaHandler=null;a.snappingManager&&
a.snappingManager._snappingGraphic&&a.graphics.remove(a.snappingManager._snappingGraphic);this._map.snappingManager&&(this._map.snappingManager._stopSelectionLayerQuery(),this._map.snappingManager._killOffSnapping());this._unitDropDown._opened&&this._unitDropDown.closeDropDown()},_measureCustomGeometry:function(){this.clearResult();switch(this._userGeometry.type){case "point":this._measureCustomPoint();break;case "polyline":this._measureCustomDistance();break;case "polygon":this._measureCustomArea()}},
_densifyGeometry:function(a){"Web Mercator"===this._map.cs&&(a=v.webMercatorToGeographic(a));a="PCS"===this._map.cs?a:t.geodesicDensify(a,5E5);"Web Mercator"===this._map.cs&&(a=v.geographicToWebMercator(a));return a},_geodesicDistance:function(a,b){var c=new p(this._map.spatialReference);"PCS"===this._map.cs&&(a=this._getGCSLocation(a),b=this._getGCSLocation(b));c.addPath([a,b]);"Web Mercator"===this._map.cs&&(c=v.webMercatorToGeographic(c));return t.geodesicLengths([c],H.MILES)[0]},_calculateXY:function(a,
b){var c,d,e=E.widgets.measurement;if(this.getUnit()===e.NLS_decimal_degrees)c=a.toFixed(6),d=b.toFixed(6),d=this._roundY(d),this._map.spatialReference._isWrappable()||(c=this._roundX(c));else if(this.getUnit()===e.NLS_deg_min_sec){var f=e=!1;0>a&&(e=!0,a=Math.abs(a));0>b&&(f=!0,b=Math.abs(b));b=this._roundY(b);this._map.spatialReference._isWrappable()||(a=this._roundX(a));c=Math.floor(a)+"\u00b0"+Math.floor(60*(a-Math.floor(a)))+"'"+Math.floor(60*(60*(a-Math.floor(a))-Math.floor(60*(a-Math.floor(a)))))+
'"';d=Math.floor(b)+"\u00b0"+Math.floor(60*(b-Math.floor(b)))+"'"+Math.floor(60*(60*(b-Math.floor(b))-Math.floor(60*(b-Math.floor(b)))))+'"';e&&(c="-"+c);f&&(d="-"+d)}return[c,d]},_roundY:function(a){90<a?a=90:-90>a&&(a=-90);return a},_roundX:function(a){180<a?a=180:-180>a&&(a=-180);return a},_getGCSLocation:function(a){a=g.clone(a);if("Web Mercator"===this._map.cs)a=v.webMercatorToGeographic(a);else if("PCS"===this._map.cs){if(this._map._newExtent){var b=Math.abs((this._map._newExtent.xmax-this._map._newExtent.xmin)/
(this._map.extent.xmax-this._map.extent.xmin)),c=Math.abs((this._map._newExtent.ymax-this._map._newExtent.ymin)/(this._map.extent.ymax-this._map.extent.ymin));a=new u((a.x-this._map.extent.xmin)*b+this._map._newExtent.xmin,(a.y-this._map.extent.ymin)*c+this._map._newExtent.ymin,this._map.spatialReference)}}else a=a.normalize();return a},_projectMapExtent:function(a){a=new F(a);var b=new R({wkid:4326});this._geometryService.project([a.geometry],b,g.hitch(this,function(a){if(!this._mouseMoveMapHandler&&
"location"===this.activeTool){if("esriDegreeMinuteSeconds"===this.currentLocationUnit||"esriDecimalDegrees"===this.currentLocationUnit)this._mouseMoveMapHandler=f.connect(this._map,"onMouseMove",g.hitch(this,this._locationMoveHandler));this._mouseMoveMapHandler=f.connect(this._map,"onMouseMove",g.hitch(this,this._locationMoveHandler))}this._map._newExtent=a[0]}))},_checkCS:function(a){if(a.wkid)return 3857===a.wkid||102100===a.wkid||102113===a.wkid?"Web Mercator":V.isDefined(B[a.wkid])?"PCS":"GCS";
if(a.wkt)return-1!==a.wkt.indexOf("WGS_1984_Web_Mercator")?"Web Mercator":0===a.wkt.indexOf("PROJCS")?"PCS":"GCS"},_switchUnit:function(a){"distance"===this.activeTool?this.currentDistanceUnit=a:"area"===this.activeTool?this.currentAreaUnit=a:"location"===this.activeTool&&(this.currentLocationUnit=a);r.byNode(this._unitDropDown.domNode).set("label",this._unitStrings[a]);if(null!==this.result){var b=this._outputResult(this.result,this._unitStrings[a]);this.onUnitChange(this._unitStrings[a],this.activeTool);
if(null!==this._measureGraphic)this.onMeasureEnd(this.activeTool,this._measureGraphic.geometry,b,this.getUnit())}},_setupDictionaries:function(){var a=E.widgets.measurement;this._unitDictionary[a.NLS_length_miles]=1;this._unitDictionary[a.NLS_length_kilometers]=1.609344;this._unitDictionary[a.NLS_length_feet]=5280;this._unitDictionary[a.NLS_length_meters]=1609.34;this._unitDictionary[a.NLS_length_yards]=1760;this._unitDictionary[a.NLS_length_nautical_miles]=0.869;this._unitDictionary[a.NLS_area_acres]=
1;this._unitDictionary[a.NLS_area_sq_kilometers]=0.004047;this._unitDictionary[a.NLS_area_sq_miles]=0.0015625;this._unitDictionary[a.NLS_area_sq_feet]=43560;this._unitDictionary[a.NLS_area_sq_meters]=4046.87;this._unitDictionary[a.NLS_area_hectares]=0.4047;this._unitDictionary[a.NLS_area_sq_yards]=4840;this._unitDictionary[a.NLS_area_sq_nautical_miles]=0.001179874545293396;this._unitStrings={esriMiles:a.NLS_length_miles,esriKilometers:a.NLS_length_kilometers,esriFeet:a.NLS_length_feet,esriMeters:a.NLS_length_meters,
esriYards:a.NLS_length_yards,esriNauticalMiles:a.NLS_length_nautical_miles,esriAcres:a.NLS_area_acres,esriSquareKilometers:a.NLS_area_sq_kilometers,esriSquareMiles:a.NLS_area_sq_miles,esriSquareFeet:a.NLS_area_sq_feet,esriSquareMeters:a.NLS_area_sq_meters,esriHectares:a.NLS_area_hectares,esriSquareYards:a.NLS_area_sq_yards,esriSquareNauticalMiles:a.NLS_area_sq_nautical_miles,esriDecimalDegrees:a.NLS_decimal_degrees,esriDegreeMinuteSeconds:a.NLS_deg_min_sec,esriMGRS:a.NLS_MGRS,esriUSNG:a.NLS_USNG,
esriUTM:a.NLS_UTM,esriDDM:a.NLS_DDM,esriDD:a.NLS_DD,esriGARS:a.NLS_GARS,esriGeoRef:a.NLS_GeoRef};this._locationUnitStrings=[a.NLS_decimal_degrees,a.NLS_deg_min_sec,a.NLS_MGRS,a.NLS_USNG,a.NLS_UTM,a.NLS_GeoRef,a.NLS_GARS];this._locationUnitStringsLong="esriDecimalDegrees esriDegreeMinuteSeconds esriMGRS esriUSNG esriUTM esriGeoRef esriGARS".split(" ");this._distanceUnitStrings=[a.NLS_length_miles,a.NLS_length_kilometers,a.NLS_length_feet,a.NLS_length_meters,a.NLS_length_yards,a.NLS_length_nautical_miles];
this._distanceUnitStringsLong="esriMiles esriKilometers esriFeet esriMeters esriYards esriNauticalMiles".split(" ");this._areaUnitStrings=[a.NLS_area_acres,a.NLS_area_sq_miles,a.NLS_area_sq_kilometers,a.NLS_area_hectares,a.NLS_area_sq_yards,a.NLS_area_sq_feet,a.NLS_area_sq_meters];this._areaUnitStringsLong="esriAcres esriSquareMiles esriSquareKilometers esriHectares esriSquareYards esriSquareFeet esriSquareMeters".split(" ");this._buttonDijits={area:this._areaButton,distance:this._distanceButton,
location:this._locationButton};r.byNode(this._distanceButton.domNode).setLabel(a.NLS_distance);r.byNode(this._areaButton.domNode).setLabel(a.NLS_area);r.byNode(this._locationButton.domNode).setLabel(a.NLS_location);r.byNode(this.resultLabel.domNode).setContent(a.NLS_resultLabel)},onToolChange:function(){},onUnitChange:function(){},onMeasureStart:function(){},onMeasure:function(){},onMeasureEnd:function(){},_measureAreaMouseClickHandler:function(a){var b;this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);
b=b||a.mapPoint;this._inputPoints.push(b);this._currentStartPt=b;if(1===this._inputPoints.length){this._tempGraphic.setGeometry(new p(this._map.spatialReference));for(a=0;a<this._measureGraphics.length;a++)this._map.graphics.remove(this._measureGraphics[a]);this._measureGraphics=[];this.result=0;this._outputResult(this.result,E.widgets.measurement.NLS_area_acres);this._mouseMoveMapHandler=f.connect(this._map,"onMouseMove",this,"_measureAreaMouseMoveHandler");this.onMeasureStart(this.activeTool,this.getUnit())}this._measureGraphic=
new F;this._measureGraphic.setSymbol(this._areaLineSymbol);this._measureGraphics.push(this._measureGraphic);if(1<this._inputPoints.length){var c=new p(this._map.spatialReference);c.addPath([this._inputPoints[this._inputPoints.length-2],b]);a=new p(this._map.spatialReference);a.addPath([this._inputPoints[0],b]);b=this._densifyGeometry(c);a=this._densifyGeometry(a);this._tempGraphic.setGeometry(a);this._measureGraphic.setGeometry(b);this._polylineGraphics.push(this._measureGraphic);this._map.graphics.add(this._measureGraphic);
if(2<this._inputPoints.length){b=new y(this._map.spatialReference);c=[];for(a=0;a<this._inputPoints.length;a++)c.push([this._inputPoints[a].x,this._inputPoints[a].y]);c.push([this._inputPoints[0].x,this._inputPoints[0].y]);b.addRing(c);this._polygonGraphic?(this._map.graphics.remove(this._polygonGraphic),this._polylineGraphics.push(this._tempGraphic),this._polygonGraphic=this._generatePolygonFromPaths(),this._map.graphics.add(this._polygonGraphic),this._measureGraphic=this._polygonGraphic,this._polylineGraphics.pop()):
(this._polygonGraphic=this._generatePolygonFromPaths(),this._map.graphics.add(this._polygonGraphic));this._getArea(b)}}else this._polygonGraphic&&(this._map.graphics.remove(this._polygonGraphic),this._polygonGraphic=null)},_measureAreaMouseMoveHandler:function(a){var b;if(0<this._inputPoints.length){var c=new p(this._map.spatialReference),d;this._map.snappingManager&&(d=this._map.snappingManager._snappingPoint);b=d||a.mapPoint;c.addPath([this._currentStartPt,b]);a=this._densifyGeometry(c);this._tempGraphic.setGeometry(a)}1<
this._inputPoints.length&&(a=new p(this._map.spatialReference),a.addPath([b,this._inputPoints[0]]),b=this._densifyGeometry(a),this._tempGraphic.setGeometry(this._tempGraphic.geometry.addPath(b.paths[0])))},_measureAreaDblClickHandler:function(a){f.disconnect(this._mouseMoveMapHandler);this._mouseMoveMapHandler=null;"touch"===this._map.navigationManager.eventModel&&m("ios")&&this._measureAreaMouseClickHandler(a);a=new y(this._map.spatialReference);var b=[],c;for(c=0;c<this._inputPoints.length;c++)b.push([this._inputPoints[c].x,
this._inputPoints[c].y]);b.push([this._inputPoints[0].x,this._inputPoints[0].y]);a.addRing(b);this._inputPoints=[];this.measureGeometry=this._densifyGeometry(a);this._polygonGraphic&&(this._map.graphics.remove(this._polygonGraphic),this._polylineGraphics.push(this._tempGraphic),this._polygonGraphic=this._generatePolygonFromPaths(),this._map.graphics.add(this._polygonGraphic));this._getArea(a);this._polylineGraphics=[]},_measureDistanceMouseClickHandler:function(a){var b;this._map.snappingManager&&
(b=this._map.snappingManager._snappingPoint);var c=b||a.mapPoint;this._inputPoints.push(c);this._currentStartPt=c;if(1===this._inputPoints.length){for(a=0;a<this._measureGraphics.length;a++)this._map.graphics.remove(this._measureGraphics[a]);this._map.graphics.remove(this._tempGraphic);this._measureGraphics=[];this.result=0;this._outputResult(this.result,E.widgets.measurement.NLS_length_miles);this._tempGraphic=new F;this._tempGraphic.setSymbol(this._lineSymbol);this._map.graphics.add(this._tempGraphic);
this._mouseMoveMapHandler=f.connect(this._map,"onMouseMove",this,"_measureDistanceMouseMoveHandler");this.onMeasureStart(this.activeTool,this.getUnit())}this._tempGraphic.setGeometry(new p(this._map.spatialReference));a=new F;a.setSymbol(this._pointSymbol);a.setGeometry(c);this._measureGraphics.push(a);this._map.graphics.add(a);1<this._inputPoints.length?(this._measureGraphic=new F,this._measureGraphic.setSymbol(this._lineSymbol),this._measureGraphics.push(this._measureGraphic),a=new p(this._map.spatialReference),
a.addPath([this._inputPoints[this._inputPoints.length-2],c]),a=this._densifyGeometry(a),this._measureGraphic.setGeometry(a),this._map.graphics.add(this._measureGraphic),"PCS"===this._map.cs?(b=new L,b.polylines=[a],b.lengthUnit=9093,b.calculationType="geodesic",this._geometryService.lengths(b,g.hitch(this,function(a){this.result+=a.lengths[0];this._showDistance(this.result);this.onMeasure(this.activeTool,c,this._outputResult(this.result,this.getUnit()),this.getUnit())}))):(this.result+=this._geodesicDistance(this._inputPoints[this._inputPoints.length-
2],c),this._showDistance(this.result),this.onMeasure(this.activeTool,c,this._outputResult(this.result,this.getUnit()),this.getUnit()))):a.setSymbol(this._pointSymbol)},_measureDistanceMouseMoveHandler:function(a){if(0<this._inputPoints.length){var b,c=new p(this._map.spatialReference);this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);a=b||a.mapPoint;c.addPath([this._currentStartPt,a]);c=this._densifyGeometry(c);this._tempGraphic.setGeometry(c);"PCS"!==this._map.cs&&(c=this._geodesicDistance(this._currentStartPt,
a),this._showDistance(c+this.result))}},_measureDistanceDblClickHandler:function(a){f.disconnect(this._mouseMoveMapHandler);this._mouseMoveMapHandler=null;"touch"===this._map.navigationManager.eventModel&&m("ios")&&this._measureDistanceMouseClickHandler(a);var b=new p(this._map.spatialReference);b.addPath(this._inputPoints);b=this._densifyGeometry(b);this._measureGraphic.geometry=b;"PCS"===this._map.cs?(a=new L,a.polylines=[b],a.lengthUnit=9093,a.calculationType="geodesic",this._geometryService.lengths(a,
g.hitch(this,function(a){this.result=a.lengths[0];this._showDistance(this.result);this._inputPoints=[];this.onMeasureEnd(this.activeTool,b,this._outputResult(this.result,this.getUnit()),this.getUnit())}))):(this._inputPoints=[],this.onMeasureEnd(this.activeTool,b,this._outputResult(this.result,this.getUnit()),this.getUnit()))},_locationClickHandler:function(a){var b;this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);a=b||a.mapPoint;this._locationButtonToggle();this._locationGraphic=
new F;this._locationGraphic.setGeometry(a);this._locationGraphic.setSymbol(this._pointSymbol);this._map.graphics.add(this._locationGraphic);this._measureGraphics.push(this._locationGraphic);this._calculateLocation(a,!0)},_locationMoveHandler:function(a){var b;this._map.snappingManager&&(b=this._map.snappingManager._snappingPoint);this._calculateLocation(b||a.mapPoint,!1)},_outputResult:function(a,b){var c=a*this._unitDictionary[b];0===c?r.byNode(this.resultValue.domNode).set("content","\x26nbsp"):
1E6<c?r.byNode(this.resultValue.domNode).set("content",e.format(c.toPrecision(9),{pattern:this.numberPattern})+" "+b):10>c?r.byNode(this.resultValue.domNode).set("content",e.format(c.toFixed(2),{pattern:this.numberPattern+"0"})+" "+b):r.byNode(this.resultValue.domNode).set("content",e.format(c.toFixed(2),{pattern:this.numberPattern})+" "+b);return c},_createDistanceUnitList:function(){var a,b=new x({style:"display: none;"});l.forEach(this._distanceUnitStrings,g.hitch(this,function(a,c){var d=new s({label:a,
onClick:g.hitch(this,function(){this._switchUnit(this._distanceUnitStringsLong[c])})});d.set("class","unitDropDown");b.addChild(d)}));r.byNode(this._unitDropDown.domNode).set("dropDown",b);this.currentDistanceUnit?(a=this._unitStrings[this.currentDistanceUnit],r.byNode(this._unitDropDown.domNode).set("label",a)):(a=this._unitStrings[this._defaultDistanceUnit],r.byNode(this._unitDropDown.domNode).set("label",a),this.currentDistanceUnit=this._defaultDistanceUnit)},_createAreaUnitList:function(){var a,
b=new x({style:"display: none;"});l.forEach(this._areaUnitStrings,g.hitch(this,function(a,c){var d=new s({label:a,onClick:g.hitch(this,function(){this._switchUnit(this._areaUnitStringsLong[c])})});d.set("class","unitDropDown");b.addChild(d)}));r.byNode(this._unitDropDown.domNode).set("dropDown",b);this.currentAreaUnit?(a=this._unitStrings[this.currentAreaUnit],r.byNode(this._unitDropDown.domNode).set("label",a)):(a=this._unitStrings[this._defaultAreaUnit],r.byNode(this._unitDropDown.domNode).set("label",
a),this.currentAreaUnit=this._defaultAreaUnit)},_createLocationUnitList:function(){var a;a=this._locationUnitStrings;var b=new x({style:"display: none;"});if(null===this._geometryService||!1===this.advancedLocationUnits)a=a.slice(0,2);l.forEach(a,g.hitch(this,function(a,c){var d=new s({label:a,onClick:g.hitch(this,function(){this._switchLocationUnit(this._locationUnitStringsLong[c])})});d.set("class","unitDropDown");b.addChild(d)}));r.byNode(this._unitDropDown.domNode).set("dropDown",b);this.currentLocationUnit||
(this.currentLocationUnit=this._defaultLocationUnit);a=this._unitStrings[this.currentLocationUnit];r.byNode(this._unitDropDown.domNode).set("label",a);("esriDegreeMinuteSeconds"===this.currentLocationUnit||"esriDecimalDegrees"===this.currentLocationUnit)&&this._toggleLocationResultsTable(!0,!1)},_drawPointGraphics:function(b){var e,f,h;f=this._pointSymbol;b=d.create("div",{"class":"esriLocationResultSymbol"},b);b=c.createSurface(b,10,10);9>m("ie")&&(e=b.getEventSource(),a.set(e,"position","relative"),
a.set(e.parentNode,"position","relative"));f=f.getShapeDescriptors();try{h=b.createShape(f.defaultShape).setFill(f.fill).setStroke(f.stroke)}catch(k){b.clear();b.destroy();return}var l=h.getBoundingBox();f=l.width;e=l.height;var n=-(l.x+f/2),l=-(l.y+e/2);b=b.getDimensions();b={dx:n+b.width/2,dy:l+b.height/2};if(10<f||10<e)f=5/(f/10>e/10?f:e),g.mixin(b,{xx:f,yy:f});h.applyTransform(b)}});m("extend-esri")&&g.setObject("dijit.Measurement",k,T);return k});